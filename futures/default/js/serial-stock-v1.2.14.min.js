!function(){var p=window.AmCharts;p.AmRectangularChart=p.Class({inherits:p.AmCoordinateChart,construct:function(t){p.AmRectangularChart.base.construct.call(this,t),this.theme=t,this.createEvents("zoomed","changed"),this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20,this.depth3D=this.angle=0,this.plotAreaFillColors="#FFFFFF",this.plotAreaFillAlphas=0,this.plotAreaBorderColor="#000000",this.plotAreaBorderAlpha=0,this.maxZoomFactor=20,this.zoomOutButtonImageSize=19,this.zoomOutButtonImage="lens",this.zoomOutText="Show all",this.zoomOutButtonColor="#e5e5e5",this.zoomOutButtonAlpha=0,this.zoomOutButtonRollOverAlpha=1,this.zoomOutButtonPadding=8,this.trendLines=[],this.autoMargins=!0,this.marginsUpdated=!1,this.autoMarginOffset=10,p.applyTheme(this,t,"AmRectangularChart")},initChart:function(){p.AmRectangularChart.base.initChart.call(this),this.updateDxy(),!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),this.drawGraphs=!1),this.processScrollbars(),this.updateMargins(),this.updatePlotArea(),this.updateScrollbars(),this.updateTrendLines(),this.updateChartCursor(),this.updateValueAxes(),this.scrollbarOnly||this.updateGraphs()},drawChart:function(){var t;p.AmRectangularChart.base.drawChart.call(this),this.drawPlotArea(),!p.ifArray(this.chartData)||(t=this.chartCursor)&&t.draw()},resetMargins:function(){var t={};if("xy"==this.type){for(var e=this.xAxes,i=this.yAxes,a=0;a<e.length;a++){var s=e[a];s.ignoreAxisWidth||(s.setOrientation(!0),s.fixAxisPosition(),t[s.position]=!0)}for(a=0;a<i.length;a++)(e=i[a]).ignoreAxisWidth||(e.setOrientation(!1),e.fixAxisPosition(),t[e.position]=!0)}else{for(i=this.valueAxes,a=0;a<i.length;a++)(e=i[a]).ignoreAxisWidth||(e.setOrientation(this.rotate),e.fixAxisPosition(),t[e.position]=!0);(a=this.categoryAxis)&&!a.ignoreAxisWidth&&(a.setOrientation(!this.rotate),a.fixAxisPosition(),a.fixAxisPosition(),t[a.position]=!0)}t.left&&(this.marginLeft=0),t.right&&(this.marginRight=0),t.top&&(this.marginTop=0),t.bottom&&(this.marginBottom=0),this.fixMargins=t},measureMargins:function(){for(var t=this.valueAxes,e=this.autoMarginOffset,i=this.fixMargins,a=this.realWidth,s=this.realHeight,r=e,o=e,h=a,n=s,l=0;l<t.length;l++)t[l].handleSynchronization(),n=this.getAxisBounds(t[l],r,h,o,n),r=Math.round(n.l),h=Math.round(n.r),o=Math.round(n.t),n=Math.round(n.b);(t=this.categoryAxis)&&(n=this.getAxisBounds(t,r,h,o,n),r=Math.round(n.l),h=Math.round(n.r),o=Math.round(n.t),n=Math.round(n.b)),i.left&&r<e&&(this.marginLeft=Math.round(-r+e),!isNaN(this.minMarginLeft)&&this.marginLeft<this.minMarginLeft&&(this.marginLeft=this.minMarginLeft)),i.right&&a-e<=h&&(this.marginRight=Math.round(h-a+e),!isNaN(this.minMarginRight)&&this.marginRight<this.minMarginRight&&(this.marginRight=this.minMarginRight)),i.top&&o<e+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-o+e+this.titleHeight),!isNaN(this.minMarginTop)&&this.marginTop<this.minMarginTop&&(this.marginTop=this.minMarginTop)),i.bottom&&s-e<n&&(this.marginBottom=Math.round(this.marginBottom+n-s+e),!isNaN(this.minMarginBottom)&&this.marginBottom<this.minMarginBottom&&(this.marginBottom=this.minMarginBottom)),this.initChart()},getAxisBounds:function(t,e,i,a,s){if(!t.ignoreAxisWidth){var r=t.labelsSet,o=t.tickLength;if(t.inside&&(o=0),r)switch(r=t.getBBox(),t.position){case"top":(t=r.y)<a&&(a=t);break;case"bottom":s<(t=r.y+r.height)&&(s=t);break;case"right":i<(t=r.x+r.width+o+3)&&(i=t);break;case"left":(t=r.x-o)<e&&(e=t)}}return{l:e,t:a,r:i,b:s}},drawZoomOutButton:function(){var e=this;if(!e.zbSet){var t=e.container.set();e.zoomButtonSet.push(t);var i,a=e.color,s=e.fontSize,r=e.zoomOutButtonImageSize,o=e.zoomOutButtonImage.replace(/\.[a-z]*$/i,""),h=e.langObj.zoomOutText||e.zoomOutText,n=e.zoomOutButtonColor,l=e.zoomOutButtonAlpha,d=e.zoomOutButtonFontSize,c=e.zoomOutButtonPadding;isNaN(d)||(s=d),(d=e.zoomOutButtonFontColor)&&(a=d),(d=e.zoomOutButton)&&(d.fontSize&&(s=d.fontSize),d.color&&(a=d.color),d.backgroundColor&&(n=d.backgroundColor),isNaN(d.backgroundAlpha)||(e.zoomOutButtonRollOverAlpha=d.backgroundAlpha));var u=d=0,u=e.pathToImages;for(o&&(!p.isAbsolute(o)&&void 0!==u||(u=""),i=e.container.image(u+o+e.extension,0,0,r,r),p.setCN(e,i,"zoom-out-image"),t.push(i),d=(i=i.getBBox()).width+5),void 0!==h&&(a=p.text(e.container,h,a,e.fontFamily,s,"start"),p.setCN(e,a,"zoom-out-label"),s=a.getBBox(),u=i?i.height/2-3:s.height/2,a.translate(d,u),t.push(a)),i=t.getBBox(),a=1,p.isModern||(a=0),(n=p.rect(e.container,i.width+2*c+5,i.height+2*c-2,n,1,1,n,a)).setAttr("opacity",l),n.translate(-c,-c),p.setCN(e,n,"zoom-out-bg"),t.push(n),n.toBack(),i=(e.zbBG=n).getBBox(),t.translate(e.marginLeftReal+e.plotAreaWidth-i.width+c,e.marginTopReal+c),t.hide(),t.mouseover(function(){e.rollOverZB()}).mouseout(function(){e.rollOutZB()}).click(function(){e.clickZB()}).touchstart(function(){e.rollOverZB()}).touchend(function(){e.rollOutZB(),e.clickZB()}),l=0;l<t.length;l++)t[l].attr({cursor:"pointer"});void 0!==e.zoomOutButtonTabIndex&&(t.setAttr("tabindex",e.zoomOutButtonTabIndex),t.setAttr("role","menuitem"),t.keyup(function(t){13==t.keyCode&&e.clickZB()})),e.zbSet=t}},rollOverZB:function(){this.rolledOverZB=!0,this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.rolledOverZB=!1,this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.rolledOverZB=!1,this.zoomOut()},zoomOut:function(){this.zoomOutValueAxes()},drawPlotArea:function(){var t=this.dx,e=this.dy,i=this.marginLeftReal,a=this.marginTopReal,s=this.plotAreaWidth-1,r=this.plotAreaHeight-1,o=this.plotAreaFillColors,h=this.plotAreaFillAlphas,n=this.plotAreaBorderColor,l=this.plotAreaBorderAlpha;"object"==typeof h&&(h=h[0]),o=p.polygon(this.container,[0,s,s,0,0],[0,0,r,r,0],o,h,1,n,l,this.plotAreaGradientAngle),p.setCN(this,o,"plot-area"),o.translate(i+t,a+e),this.set.push(o),0!==t&&0!==e&&("object"==typeof(o=this.plotAreaFillColors)&&(o=o[0]),o=p.adjustLuminosity(o,-.15),s=p.polygon(this.container,[0,t,s+t,s,0],[0,e,e,0,0],o,h,1,n,l),p.setCN(this,s,"plot-area-bottom"),s.translate(i,a+r),this.set.push(s),t=p.polygon(this.container,[0,0,t,t,0],[0,r,r+e,e,0],o,h,1,n,l),p.setCN(this,t,"plot-area-left"),t.translate(i,a),this.set.push(t)),(i=this.bbset)&&this.scrollbarOnly&&i.remove()},updatePlotArea:function(){var t=this.updateWidth(),e=this.updateHeight(),i=this.container;this.realWidth=t,this.realWidth=e,i&&this.container.setSize(t,e);var i=this.marginLeftReal,a=this.marginTopReal;(t=t-i-this.marginRightReal-this.dx)<1&&(t=1),(e=e-a-this.marginBottomReal)<1&&(e=1),this.plotAreaWidth=Math.round(t),this.plotAreaHeight=Math.round(e),this.plotBalloonsSet.translate(i,a)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180)),this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180)),this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180)),this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var t=this.getTitleHeight();this.titleHeight=t,this.marginTopReal=this.marginTop-this.dy,this.fixMargins&&!this.fixMargins.top&&(this.marginTopReal+=t),this.marginBottomReal=this.marginBottom,this.marginLeftReal=this.marginLeft,this.marginRightReal=this.marginRight},updateValueAxes:function(){for(var t=this.valueAxes,e=0;e<t.length;e++){var i=t[e];this.setAxisRenderers(i),this.updateObjectSize(i)}},setAxisRenderers:function(t){t.axisRenderer=p.RecAxis,t.guideFillRenderer=p.RecFill,t.axisItemRenderer=p.RecItem,t.marginsChanged=!0},updateGraphs:function(){for(var t=this.graphs,e=0;e<t.length;e++){var i=t[e];i.index=e,i.rotate=this.rotate,this.updateObjectSize(i)}},updateObjectSize:function(t){t.width=this.plotAreaWidth-1,t.height=this.plotAreaHeight-1,t.x=this.marginLeftReal,t.y=this.marginTopReal,t.dx=this.dx,t.dy=this.dy},updateChartCursor:function(){var t=this.chartCursor;t&&(t=p.processObject(t,p.ChartCursor,this.theme),this.updateObjectSize(t),this.addChartCursor(t),t.chart=this)},processScrollbars:function(){var t=this.chartScrollbar;t&&(t=p.processObject(t,p.ChartScrollbar,this.theme),this.addChartScrollbar(t))},updateScrollbars:function(){},removeChartCursor:function(){p.callMethod("destroy",[this.chartCursor]),this.chartCursor=null},zoomTrendLines:function(){for(var t=this.trendLines,e=0;e<t.length;e++){var i=t[e];i.valueAxis.recalculateToPercents?i.set&&i.set.hide():(i.x=this.marginLeftReal,i.y=this.marginTopReal,i.draw())}},handleCursorValueZoom:function(){},addTrendLine:function(t){this.trendLines.push(t)},zoomOutValueAxes:function(){for(var t=this.valueAxes,e=0;e<t.length;e++)t[e].zoomOut()},removeTrendLine:function(t){for(var e=this.trendLines,i=e.length-1;0<=i;i--)e[i]==t&&e.splice(i,1)},adjustMargins:function(t,e){var i=t.position,a=t.scrollbarHeight+t.offset;t.enabled&&("top"==i?e?this.marginLeftReal+=a:this.marginTopReal+=a:e?this.marginRightReal+=a:this.marginBottomReal+=a)},getScrollbarPosition:function(t,e,i){var a="bottom",s="top";t.oppositeAxis||(s=a,a="top"),t.position=e?"bottom"==i||"left"==i?a:s:"top"==i||"right"==i?a:s},updateChartScrollbar:function(t,e){var i,a,s,r,o,h;t&&(t.rotate=e,i=this.marginTopReal,a=this.marginLeftReal,s=t.scrollbarHeight,r=this.dx,o=this.dy,h=t.offset,"top"==t.position?e?(t.y=i,t.x=a-s-h):(t.y=i-s+o-h,t.x=a+r):e?(t.y=i+o,t.x=a+this.plotAreaWidth+r+h):(t.y=i+this.plotAreaHeight+h,t.x=this.marginLeftReal))},showZB:function(t){var e=this.zbSet;!t||""!==(e=this.zoomOutText)&&e&&this.drawZoomOutButton(),(e=this.zbSet)&&(this.zoomButtonSet.push(e),t?e.show():e.hide(),this.rollOutZB())},handleReleaseOutside:function(t){p.AmRectangularChart.base.handleReleaseOutside.call(this,t),(t=this.chartCursor)&&t.handleReleaseOutside&&t.handleReleaseOutside()},handleMouseDown:function(t){p.AmRectangularChart.base.handleMouseDown.call(this,t);var e=this.chartCursor;e&&e.handleMouseDown&&!this.rolledOverZB&&e.handleMouseDown(t)},update:function(){p.AmRectangularChart.base.update.call(this),this.chartCursor&&this.chartCursor.update&&this.chartCursor.update()},handleScrollbarValueZoom:function(t){this.relativeZoomValueAxes(t.target.valueAxes,t.relativeStart,t.relativeEnd),this.zoomAxesAndGraphs()},zoomValueScrollbar:function(t){var e,i,a;t&&t.enabled&&(i=(e=t.valueAxes[0]).relativeStart,a=e.relativeEnd,e.reversed&&(a=1-i,i=1-e.relativeEnd),t.percentZoom(i,a))},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){for(var t=this.valueAxes,e=0;e<t.length;e++)t[e].zoom(this.start,this.end);for(t=this.graphs,e=0;e<t.length;e++)t[e].zoom(this.start,this.end);(e=this.chartCursor)&&e.clearSelection(),this.zoomTrendLines()}},handleValueAxisZoomReal:function(t,e){var i=t.relativeStart,a=t.relativeEnd;a<i&&(t=i,i=a,a=t),this.relativeZoomValueAxes(e,i,a),this.updateAfterValueZoom()},updateAfterValueZoom:function(){this.zoomAxesAndGraphs(),this.zoomScrollbar()},relativeZoomValueAxes:function(t,e,i){this.hideBalloonReal(),e=p.fitToBounds(e,0,1),(i=p.fitToBounds(i,0,1))<e&&(a=e,e=i,i=a);var a=1/this.maxZoomFactor,s=p.getDecimals(a)+4;if(i-e<a&&(e=(i=e+(i-e)/2)-a/2,1<(i+=a/2)&&(e-=i-1,i=1),e<0&&(e=0,i=a)),e=p.roundTo(e,s),i=p.roundTo(i,s),a=!1,t){for(s=0;s<t.length;s++){var r=t[s].zoomToRelativeValues(e,i,!0);r&&(a=r)}this.showZB()}return a},addChartCursor:function(t){p.callMethod("destroy",[this.chartCursor]),t&&(this.listenTo(t,"moved",this.handleCursorMove),this.listenTo(t,"zoomed",this.handleCursorZoom),this.listenTo(t,"zoomStarted",this.handleCursorZoomStarted),this.listenTo(t,"panning",this.handleCursorPanning),this.listenTo(t,"onHideCursor",this.handleCursorHide)),this.chartCursor=t},handleCursorChange:function(){},handleCursorMove:function(t){for(var e,i=this.valueAxes,a=0;a<i.length;a++)t.panning||(e=i[a])&&e.showBalloon&&e.showBalloon(t.x,t.y)},handleCursorZoom:function(t){var e,i,a,s,r,o,h,n;this.skipZoomed?this.skipZoomed=!1:(e=this.startX0,i=this.endX0,a=this.endY0,s=this.startY0,r=t.startX,o=t.endX,h=t.startY,n=t.endY,this.startX0=this.endX0=this.startY0=this.endY0=NaN,this.handleCursorZoomReal(e+r*(i-e),e+o*(i-e),s+h*(a-s),s+n*(a-s),t))},handleCursorHide:function(){for(var t=this.valueAxes,e=0;e<t.length;e++)t[e].hideBalloon();for(t=this.graphs,e=0;e<t.length;e++)t[e].hideBalloonReal()}})}(),function(){var N=window.AmCharts;N.AmSerialChart=N.Class({inherits:N.AmRectangularChart,construct:function(t){this.type="serial",N.AmSerialChart.base.construct.call(this,t),this.cname="AmSerialChart",this.theme=t,this.columnSpacing=5,this.columnSpacing3D=0,this.columnWidth=.8;var e=new N.CategoryAxis(t);(e.chart=this).categoryAxis=e,this.zoomOutOnDataUpdate=!0,this.mouseWheelZoomEnabled=this.mouseWheelScrollEnabled=this.rotate=this.skipZoom=!1,this.minSelectedTime=0,N.applyTheme(this,t,this.cname)},initChart:function(){N.AmSerialChart.base.initChart.call(this),this.updateCategoryAxis(this.categoryAxis,this.rotate,"categoryAxis"),this.dataChanged?this.parseData():this.onDataUpdated(),this.drawGraphs=!0},onDataUpdated:function(){for(var t=this.countColumns(),e=this.chartData,i=this.graphs,a=0;a<i.length;a++){var s=i[a];s.data=e,s.columnCount=t}0<e.length&&(this.firstTime=this.getStartTime(e[0].time),this.lastTime=this.getEndTime(e[e.length-1].time)),this.drawChart(),this.autoMargins&&!this.marginsUpdated?(this.marginsUpdated=!0,this.measureMargins()):this.dispDUpd()},syncGrid:function(){if(this.synchronizeGrid){var t=this.valueAxes;if(0<t.length){for(var e=0,i=0;i<t.length;i++)e<(r=t[i]).gridCountReal&&(e=r.gridCountReal);var a,s,r,o=!1;for(i=0;i<t.length;i++)(r=t[i]).gridCountReal<e&&(0!=(s=o=a=(e-r.gridCountReal)/2)-Math.round(a)&&(o-=.5,s+=.5),0<=r.min&&r.min-o*r.step<0&&(s+=o,o=0),r.max<=0&&0<r.max+s*r.step&&(o+=s,s=0),a=N.getDecimals(r.step),r.minimum=N.roundTo(r.min-o*r.step,a),r.maximum=N.roundTo(r.max+s*r.step,a),r.setStep=r.step,o=r.strictMinMax=!0);for(o&&this.updateAfterValueZoom(),i=0;i<t.length;i++)(r=t[i]).minimum=NaN,r.maximum=NaN,r.setStep=NaN,r.strictMinMax=!1}}},handleWheelReal:function(t,e){var i,a,s,r,o,h;this.wheelBusy||(a=(i=this.categoryAxis).parseDates,s=i.minDuration(),o=r=1,this.mouseWheelZoomEnabled?e||(r=-1):e&&(r=-1),(e=this.chartCursor)&&(h=e.mouseX,e=e.mouseY,r!=o&&(r*=h=this.rotate?e/this.plotAreaHeight:h/this.plotAreaWidth,o*=1-h),h=.05*(this.end-this.start),a&&(h=.05*(this.endTime-this.startTime)/s),h<1&&(h=1),r*=h,o*=h,a&&!i.equalSpacing||(r=Math.round(r),o=Math.round(o))),e=this.chartData.length,i=this.lastTime,h=this.firstTime,t<0?a?(e=this.endTime-this.startTime,a=this.startTime+r*s,s=this.endTime+o*s,0<o&&0<r&&i<=s&&(a=(s=i)-e),this.zoomToDates(new Date(a),new Date(s))):(0<o&&0<r&&this.end>=e-1&&(r=o=0),a=this.start+r,s=this.end+o,this.zoomToIndexes(a,s)):a?(e=this.endTime-this.startTime,a=this.startTime-r*s,s=this.endTime-o*s,0<o&&0<r&&a<=h&&(s=(a=h)+e),this.zoomToDates(new Date(a),new Date(s))):(0<o&&0<r&&this.start<1&&(r=o=0),a=this.start-r,s=this.end-o,this.zoomToIndexes(a,s)))},validateData:function(t){this.marginsUpdated=!1,this.zoomOutOnDataUpdate&&!t&&(this.endTime=this.end=this.startTime=this.start=NaN),N.AmSerialChart.base.validateData.call(this)},drawChart:function(){var t,e,i,a;0<this.realWidth&&0<this.realHeight?(N.AmSerialChart.base.drawChart.call(this),t=this.chartData,N.ifArray(t)&&(!(e=this.chartScrollbar)||!this.marginsUpdated&&this.autoMargins||e.draw(),(e=this.valueScrollbar)&&e.draw(),e=t.length-1,(a=this.categoryAxis).parseDates&&!a.equalSpacing?(a=this.startTime,i=this.endTime,(isNaN(a)||isNaN(i))&&(a=this.firstTime,i=this.lastTime)):(a=this.start,i=this.end,(isNaN(a)||isNaN(i))&&(i=a=NaN),isNaN(a)&&(isNaN(this.startTime)||(a=this.getClosestIndex(t,"time",this.startTime,!0,0,t.length))),isNaN(i)&&(isNaN(this.endTime)||(i=this.getClosestIndex(t,"time",this.endTime,!1,0,t.length))),(isNaN(a)||isNaN(i))&&(a=0,i=e)),this.endTime=this.startTime=this.end=this.start=void 0,this.zoom(a,i))):this.cleanChart()},cleanChart:function(){N.callMethod("destroy",[this.valueAxes,this.graphs,this.categoryAxis,this.chartScrollbar,this.chartCursor,this.valueScrollbar])},updateCategoryAxis:function(t,e,i){t.chart=this,t.id=i,t.rotate=e,t.setOrientation(!this.rotate),t.init(),this.setAxisRenderers(t),this.updateObjectSize(t)},updateValueAxes:function(){N.AmSerialChart.base.updateValueAxes.call(this);for(var t=this.valueAxes,e=0;e<t.length;e++){var i=t[e],a=this.rotate;i.rotate=a,i.setOrientation(a),(a=this.categoryAxis).startOnAxis&&!a.parseDates||(i.expandMinMax=!0)}},getStartTime:function(t){var e=this.categoryAxis;return N.resetDateToMin(new Date(t),e.minPeriod,1,e.firstDayOfWeek).getTime()},getEndTime:function(t){var e=N.extractPeriod(this.categoryAxis.minPeriod);return N.changeDate(new Date(t),e.period,e.count,!0).getTime()-1},updateMargins:function(){N.AmSerialChart.base.updateMargins.call(this);var t=this.chartScrollbar;t&&(this.getScrollbarPosition(t,this.rotate,this.categoryAxis.position),this.adjustMargins(t,this.rotate)),(t=this.valueScrollbar)&&(this.getScrollbarPosition(t,!this.rotate,this.valueAxes[0].position),this.adjustMargins(t,!this.rotate))},updateScrollbars:function(){N.AmSerialChart.base.updateScrollbars.call(this),this.updateChartScrollbar(this.chartScrollbar,this.rotate),this.updateChartScrollbar(this.valueScrollbar,!this.rotate)},zoom:function(t,e){var i=this.categoryAxis;i.parseDates&&!i.equalSpacing?(this.timeZoom(t,e),isNaN(t)&&this.zoomOutValueAxes()):this.indexZoom(t,e),(i=this.chartCursor)&&(i.pan||i.hideCursorReal()),this.updateLegendValues()},timeZoom:function(t,e){var i=this.maxSelectedTime;isNaN(i)||(e!=this.endTime&&i<e-t&&(t=e-i),t!=this.startTime&&i<e-t&&(e=t+i));var a,s,r,o,h=this.minSelectedTime;0<h&&e-t<h&&(t=(a=Math.round(t+(e-t)/2))-(h=Math.round(h/2)),e=a+h),h=this.chartData,a=this.categoryAxis,!N.ifArray(h)||t==this.startTime&&e==this.endTime||(s=a.minDuration(),r=this.firstTime,o=this.lastTime,t||(t=r,isNaN(i)||(t=o-i)),o<t&&(t=o),(e=e||o)<r&&(e=r),t<r&&(t=r),o<e&&(e=o),e<t&&(e=t+s),e-t<s/5&&(e<o?e=t+s/5:t=e-s/5),this.startTime=t,this.endTime=e,i=h.length-1,s=this.getClosestIndex(h,"time",t,!0,0,i),h=this.getClosestIndex(h,"time",e,!1,s,i),a.timeZoom(t,e),a.zoom(s,h),this.start=N.fitToBounds(s,0,i),this.end=N.fitToBounds(h,0,i),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.fixCursor(),this.showZB(),this.syncGrid(),this.updateColumnsDepth(),this.dispatchTimeZoomEvent())},showZB:function(){var t,e=this.categoryAxis;e&&e.parseDates&&!e.equalSpacing&&(this.startTime>this.firstTime&&(t=!0),this.endTime<this.lastTime&&(t=!0)),0<this.start&&(t=!0),this.end<this.chartData.length-1&&(t=!0),(e=this.valueAxes)&&(e=e[0],isNaN(e.relativeStart)||(0!==N.roundTo(e.relativeStart,3)&&(t=!0),1!=N.roundTo(e.relativeEnd,3)&&(t=!0))),N.AmSerialChart.base.showZB.call(this,t)},updateAfterValueZoom:function(){N.AmSerialChart.base.updateAfterValueZoom.call(this),this.updateColumnsDepth()},indexZoom:function(t,e){var i,a=this.maxSelectedSeries,s=!1;isNaN(a)||(e!=this.end&&a<e-t&&(t=e-a,s=!0),t!=this.start&&a<e-t&&(e=t+a,s=!0)),(s=s&&this.chartScrollbar)&&s.dragger&&(i=s.dragger.getBBox(),s.maxWidth=i.width,s.maxHeight=i.height),t==this.start&&e==this.end||(s=this.chartData.length-1,isNaN(t)&&(t=0,isNaN(a)||(t=s-a)),isNaN(e)&&(e=s),e<t&&(e=t),s<e&&(e=s),s<t&&(t=s-1),t<0&&(t=0),this.start=t,this.end=e,this.categoryAxis.zoom(t,e),this.zoomAxesAndGraphs(),this.zoomScrollbar(),this.fixCursor(),0!==t||e!=this.chartData.length-1?this.showZB(!0):this.showZB(!1),this.syncGrid(),this.updateColumnsDepth(),this.dispatchIndexZoomEvent())},updateGraphs:function(){N.AmSerialChart.base.updateGraphs.call(this);for(var t=this.graphs,e=0;e<t.length;e++){var i=t[e];i.columnWidthReal=this.columnWidth,i.categoryAxis=this.categoryAxis,N.isString(i.fillToGraph)&&(i.fillToGraph=this.graphsById[i.fillToGraph])}},zoomAxesAndGraphs:function(){N.AmSerialChart.base.zoomAxesAndGraphs.call(this),this.updateColumnsDepth()},updateColumnsDepth:function(){if(0!==this.depth3D||0!==this.angle){var t,e,i=this.graphs;for(this.columnsArray=[],t=0;t<i.length;t++){var a=(e=i[t]).columnsArray;if(a)for(var s=0;s<a.length;s++)this.columnsArray.push(a[s])}if(this.columnsArray.sort(this.compareDepth),i=this.columnsSet,0<this.columnsArray.length){for(a=this.container.set(),this.columnSet.push(a),t=0;t<this.columnsArray.length;t++)a.push(this.columnsArray[t].column.set);e&&a.translate(e.x,e.y),this.columnsSet=a}N.remove(i)}},compareDepth:function(t,e){return t.depth>e.depth?1:-1},zoomScrollbar:function(){var t,e=this.chartScrollbar,i=this.categoryAxis;e&&(this.zoomedByScrollbar||(t=e.dragger)&&t.stop(),this.zoomedByScrollbar=!1,i.parseDates&&!i.equalSpacing?e.timeZoom(this.startTime,this.endTime):e.zoom(this.start,this.end)),this.zoomValueScrollbar(this.valueScrollbar)},updateTrendLines:function(){for(var t=this.trendLines,e=0;e<t.length;e++){var i=t[e],i=N.processObject(i,N.TrendLine,this.theme);(t[e]=i).chart=this,i.id||(i.id="trendLineAuto"+e+"_"+(new Date).getTime()),N.isString(i.valueAxis)&&(i.valueAxis=this.getValueAxisById(i.valueAxis)),i.valueAxis||(i.valueAxis=this.valueAxes[0]),i.categoryAxis=this.categoryAxis}},countColumns:function(){for(var t,e,i,a=0,s=this.valueAxes.length,r=this.graphs.length,o=!1,h=0;h<s;h++){var n=(e=this.valueAxes[h]).stackType,l=0;if("100%"==n||"regular"==n)for(o=!1,i=0;i<r;i++)(t=this.graphs[i]).tcc=1,t.valueAxis==e&&"column"==t.type&&(!o&&t.stackable&&(a++,o=!0),(!t.stackable&&t.clustered||t.newStack&&0!==l)&&a++,t.columnIndex=a-1,t.clustered||(t.columnIndex=0),l++);if("none"==n||"3d"==n){for(o=!1,i=0;i<r;i++)(t=this.graphs[i]).valueAxis==e&&"column"==t.type&&(t.clustered?(t.tcc=1,t.newStack&&(a=0),t.hidden||(t.columnIndex=a,a++)):t.hidden||(o=!0,t.tcc=1,t.columnIndex=0));o&&0===a&&(a=1)}if("3d"==n){for(e=1,h=0;h<r;h++)(t=this.graphs[h]).newStack&&e++,t.depthCount=e,t.tcc=a;a=e}}return a},parseData:function(){N.AmSerialChart.base.parseData.call(this),this.parseSerialData(this.dataProvider)},getCategoryIndexByValue:function(t){for(var e=this.chartData,i=0;i<e.length;i++)if(e[i].category==t)return i},handleScrollbarZoom:function(t){this.zoomedByScrollbar=!0,this.zoom(t.start,t.end)},dispatchTimeZoomEvent:function(){var t,e,i;!this.drawGraphs||this.prevStartTime==this.startTime&&this.prevEndTime==this.endTime||((t={type:"zoomed"}).startDate=new Date(this.startTime),t.endDate=new Date(this.endTime),t.startIndex=this.start,t.endIndex=this.end,this.startIndex=this.start,this.endIndex=this.end,this.startDate=t.startDate,this.endDate=t.endDate,this.prevStartTime=this.startTime,this.prevEndTime=this.endTime,i=this.categoryAxis,e=N.extractPeriod(i.minPeriod).period,i=i.dateFormatsObject[e],t.startValue=N.formatDate(t.startDate,i,this),t.endValue=N.formatDate(t.endDate,i,this),t.chart=this,(t.target=this).fire(t))},dispatchIndexZoomEvent:function(){var t,e;!this.drawGraphs||this.prevStartIndex==this.start&&this.prevEndIndex==this.end||(this.startIndex=this.start,this.endIndex=this.end,t=this.chartData,!N.ifArray(t)||isNaN(this.start)||isNaN(this.end)||((e={chart:this,target:this,type:"zoomed"}).startIndex=this.start,e.endIndex=this.end,e.startValue=t[this.start].category,e.endValue=t[this.end].category,this.categoryAxis.parseDates&&(this.startTime=t[this.start].time,this.endTime=t[this.end].time,e.startDate=new Date(this.startTime),e.endDate=new Date(this.endTime)),this.prevStartIndex=this.start,this.prevEndIndex=this.end,this.fire(e)))},updateLegendValues:function(){this.legend&&this.legend.updateValues()},getClosestIndex:function(t,e,i,a,s,r){s<0&&(s=0),r>t.length-1&&(r=t.length-1);var o=s+Math.round((r-s)/2),h=t[o][e];return i==h?o:r-s<=1?a||Math.abs(t[s][e]-i)<Math.abs(t[r][e]-i)?s:r:i==h?o:i<h?this.getClosestIndex(t,e,i,a,s,o):this.getClosestIndex(t,e,i,a,o,r)},zoomToIndexes:function(t,e){var i,a=this.chartData;!a||0<(i=a.length)&&(t<0&&(t=0),i-1<e&&(e=i-1),(i=this.categoryAxis).parseDates&&!i.equalSpacing?this.zoom(a[t].time,this.getEndTime(a[e].time)):this.zoom(t,e))},zoomToDates:function(t,e){var i,a=this.chartData;a&&(this.categoryAxis.equalSpacing?(i=this.getClosestIndex(a,"time",t.getTime(),!0,0,a.length),e=N.resetDateToMin(e,this.categoryAxis.minPeriod,1),a=this.getClosestIndex(a,"time",e.getTime(),!1,0,a.length),this.zoom(i,a)):this.zoom(t.getTime(),e.getTime()))},zoomToCategoryValues:function(t,e){this.chartData&&this.zoom(this.getCategoryIndexByValue(t),this.getCategoryIndexByValue(e))},formatPeriodString:function(t,e){if(e){e.periodDataItem={},e.periodPercentDataItem={};for(var i=["value","open","low","high","close"],a="value open low high close average sum count".split(" "),s=e.valueAxis,r=this.chartData,o=(o=e.numberFormatter)||this.nf,h=0;h<i.length;h++){for(var n,l,d,c,u,p,g,m,f,v,C=i[h],b=0,x=0,S=0,D=0,T=this.start;T<=this.end;T++){var y,A,w=r[T];!w||(y=w.axes[s.id].graphs[e.id])&&(y.values&&(A=y.values[C],w=w.x.categoryAxis,this.rotate?(w<0||w>y.graph.height)&&(A=NaN):(w<0||w>y.graph.width)&&(A=NaN),isNaN(A)||(isNaN(n)&&(n=A),l=A,(isNaN(d)||A<d)&&(d=A),(isNaN(c)||c<A)&&(c=A),u=N.getDecimals(b),w=N.getDecimals(A),b+=A,u=(b=N.roundTo(b,Math.max(u,w)))/++x)),y.percents&&(y=y.percents[C],!isNaN(y))&&(isNaN(p)&&(p=y),g=y,(isNaN(m)||y<m)&&(m=y),(isNaN(f)||f<y)&&(f=y),v=N.getDecimals(S),A=N.getDecimals(y),S+=y,v=(S=N.roundTo(S,Math.max(v,A)))/++D))}b={open:n,close:l,high:c,low:d,average:u,sum:b,count:x},S={open:p,close:g,high:f,low:m,average:v,sum:S,count:D},t=N.formatValue(t,b,a,o,C+"\\.",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),t=N.formatValue(t,S,a,this.pf,"percents\\."+C+"\\."),e.periodDataItem[C]=b,e.periodPercentDataItem[C]=S}}return N.cleanFromEmpty(t)},formatString:function(t,e,i){if(e){var a,s,r,o=e.graph;return void 0!==t&&(-1!=t.indexOf("[[category]]")&&(a=e.serialDataItem.category,this.categoryAxis.parseDates&&(s=this.balloonDateFormat,(r=this.chartCursor)&&r.categoryBalloonDateFormat&&(s=r.categoryBalloonDateFormat),-1!=(s=N.formatDate(a,s,this)).indexOf("fff")&&(s=N.formatMilliseconds(s,a)),a=s),t=t.replace(/\[\[category\]\]/g,String(a.replace("$","$$$")))),a=(a=o.numberFormatter)||this.nf,(r=(s=e.graph.valueAxis).duration)&&!isNaN(e.values.value)&&(r=N.formatDuration(e.values.value,r,"",s.durationUnits,s.maxInterval,a),t=t.replace(RegExp("\\[\\[value\\]\\]","g"),r)),"date"==s.type&&(s=N.formatDate(new Date(e.values.value),o.dateFormat,this),r=RegExp("\\[\\[value\\]\\]","g"),t=t.replace(r,s),s=N.formatDate(new Date(e.values.open),o.dateFormat,this),r=RegExp("\\[\\[open\\]\\]","g"),t=t.replace(r,s)),o="value open low high close total".split(" "),s=this.pf,t=N.formatValue(t,e.percents,o,s,"percents\\."),t=N.formatValue(t,e.values,o,a,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers),-1!=(t=N.formatValue(t,e.values,["percents"],s)).indexOf("[[")&&(t=N.formatDataContextValue(t,e.dataContext)),-1!=t.indexOf("[[")&&e.graph.customData&&(t=N.formatDataContextValue(t,e.graph.customData)),t=N.AmSerialChart.base.formatString.call(this,t,e,i)),t}},updateChartCursor:function(){N.AmSerialChart.base.updateChartCursor.call(this);var t=this.chartCursor,e=this.categoryAxis;if(t){var i=t.categoryBalloonAlpha,a=t.categoryBalloonColor,s=t.color;void 0===a&&(a=t.cursorColor);var r=t.valueZoomable,o=t.zoomable,h=t.valueLineEnabled;if(this.rotate?(t.vLineEnabled=h,t.hZoomEnabled=r,t.vZoomEnabled=o):(t.hLineEnabled=h,t.vZoomEnabled=r,t.hZoomEnabled=o),t.valueLineBalloonEnabled)for(h=0;h<this.valueAxes.length;h++)(o=(r=this.valueAxes[h]).balloon)||(o={}),(o=N.extend(o,this.balloon,!0)).fillColor=a,o.balloonColor=a,o.fillAlpha=i,o.borderColor=a,o.color=s,r.balloon=o;else for(o=0;o<this.valueAxes.length;o++)(r=this.valueAxes[o]).balloon&&(r.balloon=null);e&&(e.balloonTextFunction=t.categoryBalloonFunction,(t.categoryLineAxis=e).balloonText=t.categoryBalloonText,t.categoryBalloonEnabled&&((o=e.balloon)||(o={}),(o=N.extend(o,this.balloon,!0)).fillColor=a,o.balloonColor=a,o.fillAlpha=i,o.borderColor=a,o.color=s,e.balloon=o),e.balloon&&(e.balloon.enabled=t.categoryBalloonEnabled))}},addChartScrollbar:function(t){N.callMethod("destroy",[this.chartScrollbar]),t&&(t.chart=this).listenTo(t,"zoomed",this.handleScrollbarZoom),this.rotate?void 0===t.width&&(t.width=t.scrollbarHeight):void 0===t.height&&(t.height=t.scrollbarHeight),t.gridAxis=this.categoryAxis,this.chartScrollbar=t},addValueScrollbar:function(t){N.callMethod("destroy",[this.valueScrollbar]),t&&((t.chart=this).listenTo(t,"zoomed",this.handleScrollbarValueZoom),this.listenTo(t,"zoomStarted",this.handleCursorZoomStarted));var e=t.scrollbarHeight;this.rotate?void 0===t.height&&(t.height=e):void 0===t.width&&(t.width=e),t.gridAxis||(t.gridAxis=this.valueAxes[0]),t.valueAxes=this.valueAxes,this.valueScrollbar=t},removeChartScrollbar:function(){N.callMethod("destroy",[this.chartScrollbar]),this.chartScrollbar=null},removeValueScrollbar:function(){N.callMethod("destroy",[this.valueScrollbar]),this.valueScrollbar=null},handleReleaseOutside:function(t){N.AmSerialChart.base.handleReleaseOutside.call(this,t),N.callMethod("handleReleaseOutside",[this.chartScrollbar,this.valueScrollbar])},update:function(){N.AmSerialChart.base.update.call(this),this.chartScrollbar&&this.chartScrollbar.update&&this.chartScrollbar.update(),this.valueScrollbar&&this.valueScrollbar.update&&this.valueScrollbar.update()},processScrollbars:function(){N.AmSerialChart.base.processScrollbars.call(this);var t=this.valueScrollbar;t&&((t=N.processObject(t,N.ChartScrollbar,this.theme)).id="valueScrollbar",this.addValueScrollbar(t))},handleValueAxisZoom:function(t){this.handleValueAxisZoomReal(t,this.valueAxes)},zoomOut:function(){N.AmSerialChart.base.zoomOut.call(this),this.zoom(),this.syncGrid()},getNextItem:function(t){var e=t.index,i=this.chartData,a=t.graph;if(e+1<i.length)for(e+=1;e<i.length;e++)if((t=i[e])&&(t=t.axes[a.valueAxis.id].graphs[a.id],!isNaN(t.y)))return t},handleCursorZoomReal:function(t,e,i,a,s){var r,o,h=s.target;this.rotate?(isNaN(t)||isNaN(e)||this.relativeZoomValueAxes(this.valueAxes,t,e)&&this.updateAfterValueZoom(),h.vZoomEnabled&&(r=s.start,o=s.end)):(isNaN(i)||isNaN(a)||this.relativeZoomValueAxes(this.valueAxes,i,a)&&this.updateAfterValueZoom(),h.hZoomEnabled&&(r=s.start,o=s.end)),isNaN(r)||isNaN(o)||((t=this.categoryAxis).parseDates&&!t.equalSpacing?this.zoomToDates(new Date(r),new Date(o)):this.zoomToIndexes(r,o))},handleCursorZoomStarted:function(){var t,e,i=this.valueAxes;i&&(t=(i=i[0]).relativeStart,e=i.relativeEnd,i.reversed&&(t=1-i.relativeEnd,e=1-i.relativeStart),this.rotate?(this.startX0=t,this.endX0=e):(this.startY0=t,this.endY0=e)),this.categoryAxis&&(this.start0=this.start,this.end0=this.end,this.startTime0=this.startTime,this.endTime0=this.endTime)},fixCursor:function(){this.chartCursor&&this.chartCursor.fixPosition(),this.prevCursorItem=null},handleCursorMove:function(t){N.AmSerialChart.base.handleCursorMove.call(this,t);var e=t.target,i=this.categoryAxis;if(t.panning)this.handleCursorHide(t);else if(this.chartData&&!e.isHidden){var a=this.graphs;if(a){var s,r,o=i.xToIndex(this.rotate?t.y:t.x);if(o=this.chartData[o]){if(e.oneBalloonOnly&&e.valueBalloonsEnabled){for(var h=1/0,n=a.length-1;0<=n;n--)if((s=a[n]).balloon.enabled&&s.showBalloon&&!s.hidden){if(l=s.valueAxis.id,l=o.axes[l].graphs[s.id],e.showNextAvailable&&isNaN(l.y)&&!(l=this.getNextItem(l)))continue;l=l.y,"top"==s.showBalloonAt&&(l=0),"bottom"==s.showBalloonAt&&(l=this.height);var l,d=e.mouseX,c=e.mouseY;(l=this.rotate?Math.abs(d-l):Math.abs(c-l))<h&&(h=l,r=s)}e.mostCloseGraph=r}if(this.prevCursorItem!=o||r!=this.prevMostCloseGraph){for(h=[],n=0;n<a.length;n++)l=(s=a[n]).valueAxis.id,l=o.axes[l].graphs[s.id],e.showNextAvailable&&isNaN(l.y)&&!(l=this.getNextItem(l))&&s.balloon?s.balloon.hide():r&&s!=r?(s.showGraphBalloon(l,e.pointer,!1,e.graphBulletSize,e.graphBulletAlpha),s.balloon.hide(0)):e.valueBalloonsEnabled?(s.balloon.showBullet=e.bulletsEnabled,s.balloon.bulletSize=e.bulletSize/2,t.hideBalloons||(s.showGraphBalloon(l,e.pointer,!1,e.graphBulletSize,e.graphBulletAlpha),s.balloon.set&&h.push({balloon:s.balloon,y:s.balloon.pointToY}))):(s.currentDataItem=l,s.resizeBullet(l,e.graphBulletSize,e.graphBulletAlpha));e.avoidBalloonOverlapping&&this.arrangeBalloons(h),this.prevCursorItem=o}this.prevMostCloseGraph=r}}i.showBalloon(t.x,t.y,e.categoryBalloonDateFormat,t.skip),this.updateLegendValues()}},handleCursorHide:function(t){var e;for(N.AmSerialChart.base.handleCursorHide.call(this,t),t=this.categoryAxis,this.prevCursorItem=null,this.updateLegendValues(),t&&t.hideBalloon(),t=this.graphs,e=0;e<t.length;e++)t[e].currentDataItem=null},handleCursorPanning:function(t){var e,i,a,s,r,o,h=t.target,n=t.deltaX,l=t.deltaY,d=t.delta2X,c=t.delta2Y;t=!1,t=this.rotate?(isNaN(d)&&(d=n,t=!0),i=(a=this.endX0)-(e=this.startX0),a-=i*d,s=t?i:0,N.fitToBounds(e-i*n,0,1-s)):(isNaN(c)&&(c=l,t=!0),a=this.endY0,a+=(i=a-(e=this.startY0))*l,s=t?i:0,N.fitToBounds(e+i*c,0,1-s)),e=N.fitToBounds(a,s,1),h.valueZoomable&&(r=this.relativeZoomValueAxes(this.valueAxes,t,e)),e=this.categoryAxis,this.rotate&&(n=l,d=c),t=!1,isNaN(d)&&(d=n,t=!0),h.zoomable&&(0<Math.abs(n)||0<Math.abs(d))&&(e.parseDates&&!e.equalSpacing?(c=this.startTime0,d*=e=(l=this.endTime0)-c,i=this.firstTime,a=this.lastTime,s=t?e:0,t=Math.round(N.fitToBounds(c-e*n,i,a-s)),d=Math.round(N.fitToBounds(l-d,i+s,a)),this.startTime==t&&this.endTime==d||(o={chart:this,target:h,type:"zoomed",start:t,end:d},this.skipZoomed=!0,h.fire(o),this.zoom(t,d),o=!0)):(c=this.start0,e=(l=this.end0)-c,n=Math.round(e*n),d=Math.round(e*d),i=this.chartData.length-1,t||(e=0),t=N.fitToBounds(c-n,0,i-e),e=N.fitToBounds(l-d,e,i),this.start==t&&this.end==e||(this.skipZoomed=!0,h.fire({chart:this,target:h,type:"zoomed",start:t,end:e}),this.zoom(t,e),o=!0))),!o&&r&&this.updateAfterValueZoom()},arrangeBalloons:function(t){var e=this.plotAreaHeight;t.sort(this.compareY);for(var i,a,s=this.plotAreaWidth,r=t.length,o=0;o<r;o++)(i=t[o].balloon).setBounds(0,0,s,e),i.restorePrevious(),i.draw(),e=i.yPos-3;for(t.reverse(),o=0;o<r;o++){var e=(i=t[o].balloon).bottom,h=i.bottom-i.yPos;0<o&&e-h<a+3&&i.setBounds&&(i.setBounds(0,a+3,s,a+h+3),i.restorePrevious(),i.draw()),i.set&&i.set.show(),a=i.bottom}},compareY:function(t,e){return t.y<e.y?1:-1}})}(),function(){var I=window.AmCharts;I.Cuboid=I.Class({construct:function(t,e,i,a,s,r,o,h,n,l,d,c,u,p,g,m,f){this.set=t.set(),this.container=t,this.h=Math.round(i),this.w=Math.round(e),this.dx=a,this.dy=s,this.colors=r,this.alpha=o,this.bwidth=h,this.bcolor=n,this.balpha=l,this.dashLength=p,this.topRadius=m,this.pattern=g,this.rotate=u,this.bcn=f,u?e<0&&0===d&&(d=180):i<0&&270==d&&(d=90),this.gradientRotation=d,0===a&&0===s&&(this.cornerRadius=c),this.draw()},draw:function(){var t=this.set;t.clear();var e=this.container,i=e.chart,a=this.w,s=this.h,r=this.dx,o=this.dy,h=this.colors,n=this.alpha,l=this.bwidth,d=this.bcolor,c=this.balpha,u=this.gradientRotation,p=this.cornerRadius,g=this.dashLength,m=this.pattern,f=this.topRadius,v=this.bcn,C=h,b=h;"object"==typeof h&&(C=h[0],b=h[h.length-1]);var x,S,D,T,y,A,w,N,P,B=n;m&&(n=0);var k,O,M,E,z,F,R,L=this.rotate;for((0<Math.abs(r)||0<Math.abs(o))&&(isNaN(f)?(w=b,b=I.adjustLuminosity(C,-.2),b=I.adjustLuminosity(C,-.2),x=I.polygon(e,[0,r,a+r,a,0],[0,o,o,0,0],b,n,1,d,0,u),0<c&&(P=I.line(e,[0,r,a+r],[0,o,o],d,c,l,g)),(S=I.polygon(e,[0,0,a,a,0],[0,s,s,0,0],b,n,1,d,0,u)).translate(r,o),0<c&&(D=I.line(e,[r,r],[o,o+s],d,c,l,g)),T=I.polygon(e,[0,0,r,r,0],[0,s,s+o,o,0],b,n,1,d,0,u),y=I.polygon(e,[a,a,a+r,a+r,a],[0,s,s+o,o,0],b,n,1,d,0,u),0<c&&(A=I.line(e,[a,a+r,a+r,a],[0,o,s+o,s],d,c,l,g)),b=I.adjustLuminosity(w,.2),w=I.polygon(e,[0,r,a+r,a,0],[s,s+o,s+o,s,s],b,n,1,d,0,u),0<c&&(N=I.line(e,[0,r,a+r],[s,s+o,s+o],d,c,l,g))):(L?(R=z=s/2,F=a+(b=r/2),O=Math.abs(s/2),k=Math.abs(r/2)):(F=b=a/2,R=s+(z=o/2)+1,k=Math.abs(a/2),O=Math.abs(o/2)),M=k*f,E=O*f,.1<k&&.1<k&&(x=I.circle(e,k,C,n,l,d,c,!1,O)).translate(b,z),.1<M&&.1<M&&(w=I.circle(e,M,I.adjustLuminosity(C,.5),n,l,d,c,!1,E)).translate(F,R))),n=B,Math.abs(s)<1&&(s=0),Math.abs(a)<1&&(a=0),!isNaN(f)&&(0<Math.abs(r)||0<Math.abs(o))?(h={fill:h=[C],stroke:d,"stroke-width":l,"stroke-opacity":c,"fill-opacity":n},k=L?(n="M0,0 L"+a+","+(s/2-s/2*f),l=0<a?" A":" B",I.VML?n=(n+=l+Math.round(a-M)+","+Math.round(s/2-E)+","+Math.round(a+M)+","+Math.round(s/2+E)+","+a+",0,"+a+","+s)+" L0,"+s+(l+Math.round(-k))+","+Math.round(s/2-O)+","+Math.round(k)+","+Math.round(s/2+O)+",0,"+s+",0,0":(n+="A"+M+","+E+",0,0,0,"+a+","+(s-s/2*(1-f))+"L0,"+s,n+="A"+k+","+O+",0,0,1,0,0"),90):(n="M0,0 L"+(l=a/2-a/2*f)+","+s,I.VML?(n="M0,0 L"+l+","+s,n+=(l=s<0?" A":" B")+Math.round(a/2-M)+","+Math.round(s-E)+","+Math.round(a/2+M)+","+Math.round(s+E)+",0,"+s+","+a+","+s,n+=" L"+a+",0",n+=l+Math.round(a/2+k)+","+Math.round(O)+","+Math.round(a/2-k)+","+Math.round(-O)+","+a+",0,0,0"):(n+="A"+M+","+E+",0,0,0,"+(a-a/2*(1-f))+","+s+"L"+a+",0",n+="A"+k+","+O+",0,0,1,0,0"),180),(e=e.path(n).attr(h)).gradient("linearGradient",[C,I.adjustLuminosity(C,-.3),I.adjustLuminosity(C,-.3),C],k),L?e.translate(r/2,0):e.translate(0,o/2)):e=0===s?I.line(e,[0,a],[0,0],d,c,l,g):0===a?I.line(e,[0,0],[0,s],d,c,l,g):0<p?I.rect(e,a,s,h,n,l,d,c,p,u,g):I.polygon(e,[0,0,a,a,0],[0,s,s,0,0],h,n,l,d,c,u,!1,g),a=isNaN(f)?s<0?[x,P,S,D,T,y,A,w,N,e]:[w,N,S,D,T,y,x,P,A,e]:L?0<a?[x,e,w]:[w,e,x]:s<0?[x,e,w]:[w,e,x],I.setCN(i,e,v+"front"),I.setCN(i,S,v+"back"),I.setCN(i,w,v+"top"),I.setCN(i,x,v+"bottom"),I.setCN(i,T,v+"left"),I.setCN(i,y,v+"right"),x=0;x<a.length;x++)(S=a[x])&&(t.push(S),I.setCN(i,S,v+"element"));m&&e.pattern(m,NaN,i.path)},width:function(t){isNaN(t)&&(t=0),this.w=Math.round(t),this.draw()},height:function(t){isNaN(t)&&(t=0),this.h=Math.round(t),this.draw()},animateHeight:function(t,e){var i=this;i.animationFinished=!1,i.easing=e,i.totalFrames=t*I.updateRate,i.rh=i.h,i.frame=0,i.height(1),setTimeout(function(){i.updateHeight.call(i)},1e3/I.updateRate)},updateHeight:function(){var t=this;t.frame++;var e=t.totalFrames;t.frame<=e?(e=t.easing(0,t.frame,1,t.rh-1,e),t.height(e),window.requestAnimationFrame?window.requestAnimationFrame(function(){t.updateHeight.call(t)}):setTimeout(function(){t.updateHeight.call(t)},1e3/I.updateRate)):(t.height(t.rh),t.animationFinished=!0)},animateWidth:function(t,e){var i=this;i.animationFinished=!1,i.easing=e,i.totalFrames=t*I.updateRate,i.rw=i.w,i.frame=0,i.width(1),setTimeout(function(){i.updateWidth.call(i)},1e3/I.updateRate)},updateWidth:function(){var t=this;t.frame++;var e=t.totalFrames;t.frame<=e?(e=t.easing(0,t.frame,1,t.rw-1,e),t.width(e),window.requestAnimationFrame?window.requestAnimationFrame(function(){t.updateWidth.call(t)}):setTimeout(function(){t.updateWidth.call(t)},1e3/I.updateRate)):(t.width(t.rw),t.animationFinished=!0)}})}(),function(){var w=window.AmCharts;w.CategoryAxis=w.Class({inherits:w.AxisBase,construct:function(t){this.cname="CategoryAxis",w.CategoryAxis.base.construct.call(this,t),this.minPeriod="DD",this.equalSpacing=this.parseDates=!1,this.position="bottom",this.startOnAxis=!1,this.gridPosition="middle",this.safeDistance=30,this.stickBalloonToCategory=!1,w.applyTheme(this,t,this.cname)},draw:function(){w.CategoryAxis.base.draw.call(this),this.generateDFObject();var t=this.chart.chartData;if(this.data=t,this.labelRotationR=this.labelRotation,this.type=null,w.ifArray(t)){var e=this.chart;"scrollbar"!=this.id?(w.setCN(e,this.set,"category-axis"),w.setCN(e,this.labelsSet,"category-axis"),w.setCN(e,this.axisLine.axisSet,"category-axis")):this.bcn=this.id+"-";var i,a,s,r,o,h,n=this.start,l=this.labelFrequency,d=0,c=this.end-n+1,u=this.gridCountR,p=this.showFirstLabel,g=this.showLastLabel,m="",m=w.extractPeriod(this.minPeriod),f=w.getPeriodDuration(m.period,m.count),v=this.rotate,C=this.firstDayOfWeek,b=this.boldPeriodBeginning;y=w.resetDateToMin(new Date(t[t.length-1].time+1.05*f),this.minPeriod,1,C).getTime(),this.firstTime=e.firstTime,this.endTime>y&&(this.endTime=y),h=this.minorGridEnabled,s=this.gridAlpha;var x,S=0,D=0;if(this.widthField)for(y=this.start;y<=this.end;y++)(o=this.data[y])&&(x=Number(this.data[y].dataContext[this.widthField]),isNaN(x)||(S+=x,o.widthValue=x));if(this.parseDates&&!this.equalSpacing)this.lastTime=t[t.length-1].time,this.maxTime=w.resetDateToMin(new Date(this.lastTime+1.05*f),this.minPeriod,1,C).getTime(),this.timeDifference=this.endTime-this.startTime,this.parseDatesDraw();else if(this.parseDates){if(this.parseDates&&this.equalSpacing){if(d=this.start,this.startTime=this.data[this.start].time,this.endTime=this.data[this.end].time,this.timeDifference=this.endTime-this.startTime,l=(y=this.choosePeriod(0)).period,a=y.count,(y=w.getPeriodDuration(l,a))<f&&(l=m.period,a=m.count,y=f),"WW"==(s=l)&&(s="DD"),this.currentDateFormat=this.dateFormatsObject[s],this.stepWidth=this.getStepWidth(c),u=Math.ceil(this.timeDifference/y)+1,m=w.resetDateToMin(new Date(this.startTime-y),l,a,C).getTime(),this.cellWidth=this.getStepWidth(c),n=-1,(c=Math.round(m/y))/2==Math.round(c/2)&&(n=-2,m-=y),(c=this.start)/2==Math.round(c/2)&&c--,c<0&&(c=0),(D=this.end+2)>=this.data.length&&(D=this.data.length),t=!1,t=!p,this.previousPos=-1e3,20<this.labelRotationR&&(this.safeDistance=5),x=c,this.data[c].time!=w.resetDateToMin(new Date(this.data[c].time),l,a,C).getTime())for(var f=0,T=m,y=c;y<D;y++)o=this.data[y].time,this.checkPeriodChange(l,a,o,T)&&(2<=++f&&(x=y,y=D),T=o);if(h&&1<a&&(o=this.chooseMinorFrequency(a),w.getPeriodDuration(l,o)),0<this.gridCountR)for(y=c;y<D;y++)o=this.data[y].time,this.checkPeriodChange(l,a,o,m)&&x<=y&&(c=this.getCoordinate(y-this.start),h=!1,this.nextPeriod[s]&&(h=this.checkPeriodChange(this.nextPeriod[s],1,o,m,s))&&w.resetDateToMin(new Date(o),this.nextPeriod[s],1,C).getTime()!=o&&(h=!1),f=!1,h&&this.markPeriodChange?(h=this.dateFormatsObject[this.nextPeriod[s]],f=!0):h=this.dateFormatsObject[s],m=w.formatDate(new Date(o),h,e),(y==n&&!p||y==u&&!g)&&(m=" "),t?t=!1:(b||(f=!1),c-this.previousPos>this.safeDistance*Math.cos(this.labelRotationR*Math.PI/180)&&(this.labelFunction&&(m=this.labelFunction(m,new Date(o),this,l,a,r)),this.boldLabels&&(f=!0),h=(i=new this.axisItemRenderer(this,c,m,void 0,void 0,void 0,void 0,f)).graphics(),this.pushAxisItem(i),h=h.getBBox().width,w.isModern||(h-=c),this.previousPos=c+h)),r=m=o)}}else if(this.cellWidth=this.getStepWidth(c),c<u&&(u=c),d+=this.start,this.stepWidth=this.getStepWidth(c),0<u)for(C=Math.floor(c/u),o=this.chooseMinorFrequency(C),(c=d)/2==Math.round(c/2)&&c--,c<0&&(c=0),b=0,this.widthField&&(c=this.start),this.end-c+1>=this.autoRotateCount&&(this.labelRotationR=this.autoRotateAngle),y=c;y<=this.end+2;y++){if(u=!1,0<=y&&y<this.data.length?(m=(a=this.data[y]).category,u=a.forceShow):m="",h&&!isNaN(o)){if(y/o!=Math.round(y/o)&&!u)continue;y/C==Math.round(y/C)||u||(this.gridAlpha=this.minorGridAlpha,m=void 0)}else if(y/C!=Math.round(y/C)&&!u)continue;c=this.getCoordinate(y-d),u=0,"start"==this.gridPosition&&(c-=this.cellWidth/2,u=this.cellWidth/2),i=!0,r=u,"start"==this.tickPosition&&(i=!1,u=r=0),(y==n&&!p||y==this.end&&!g)&&(m=void 0),Math.round(b/l)!=b/l&&(m=void 0),b++,t=this.cellWidth,v&&(t=NaN,this.ignoreAxisWidth||!e.autoMargins)&&(t="right"==this.position?e.marginRight:e.marginLeft,t-=this.tickLength+10),this.labelFunction&&a&&(m=this.labelFunction(m,a,this)),m=w.fixBrakes(m),f=!1,this.boldLabels&&(f=!0),y>this.end&&"start"==this.tickPosition&&(m=" "),this.rotate&&this.inside&&(u-=2),isNaN(a.widthValue)||(a.percentWidthValue=a.widthValue/S*100,c=D,D+=t=this.rotate?this.height*a.widthValue/S:this.width*a.widthValue/S,u=t/2),(i=new this.axisItemRenderer(this,c,m,i,t,u,void 0,f,r,!1,a.labelColor,a.className)).serialDataItem=a,this.pushAxisItem(i),this.gridAlpha=s}for(y=p=0;y<this.data.length;y++)(o=this.data[y])&&(g=this.parseDates&&!this.equalSpacing?(g=o.time,n=this.cellWidth,"MM"==this.minPeriod&&(n=864e5*w.daysInMonth(new Date(g))*this.stepWidth,o.cellWidth=n),Math.round((g-this.startTime)*this.stepWidth+n/2)):this.getCoordinate(y-d),o.x[this.id]=g);if(this.widthField)for(y=this.start;y<=this.end;y++)n=(o=this.data[y]).widthValue,o.percentWidthValue=n/S*100,p=this.rotate?(g=this.height*n/S/2+p,this.height*n/S+p):(g=this.width*n/S/2+p,this.width*n/S+p),o.x[this.id]=g;for(S=this.guides.length,y=0;y<S;y++)C=h=n=NaN,g=(p=this.guides[y]).above,p.toCategory&&(C=e.getCategoryIndexByValue(p.toCategory),isNaN(C)||(n=this.getCoordinate(C-d),p.expand&&(n+=this.cellWidth/2),i=new this.axisItemRenderer(this,n,"",!0,NaN,NaN,p),this.pushAxisItem(i,g))),p.category&&(C=e.getCategoryIndexByValue(p.category),isNaN(C)||(h=this.getCoordinate(C-d),p.expand&&(h-=this.cellWidth/2),C=(n-h)/2,i=new this.axisItemRenderer(this,h,p.label,!0,NaN,C,p),this.pushAxisItem(i,g))),b=e.dataDateFormat,p.toDate&&(!b||p.toDate instanceof Date||(p.toDate=p.toDate.toString()+" |"),p.toDate=w.getDate(p.toDate,b),this.equalSpacing?(C=e.getClosestIndex(this.data,"time",p.toDate.getTime(),!1,0,this.data.length-1),isNaN(C)||(n=this.getCoordinate(C-d))):n=(p.toDate.getTime()-this.startTime)*this.stepWidth,i=new this.axisItemRenderer(this,n,"",!0,NaN,NaN,p),this.pushAxisItem(i,g)),p.date&&(!b||p.date instanceof Date||(p.date=p.date.toString()+" |"),p.date=w.getDate(p.date,b),this.equalSpacing?(C=e.getClosestIndex(this.data,"time",p.date.getTime(),!1,0,this.data.length-1),isNaN(C)||(h=this.getCoordinate(C-d))):h=(p.date.getTime()-this.startTime)*this.stepWidth,C=(n-h)/2,i=!0,p.toDate&&(i=!1),i="H"==this.orientation?new this.axisItemRenderer(this,h,p.label,i,2*C,NaN,p):new this.axisItemRenderer(this,h,p.label,!1,NaN,C,p),this.pushAxisItem(i,g)),i&&(C=i.label)&&this.addEventListeners(C,p),(0<n||0<h)&&(C=!1,this.rotate?(n<this.height||h<this.height)&&(C=!0):(n<this.width||h<this.width)&&(C=!0),C&&(h=(n=new this.guideFillRenderer(this,h,n,p)).graphics(),this.pushAxisItem(n,g),(p.graphics=h).index=y,this.addEventListeners(h,p)));(e=e.chartCursor)&&(v?e.fixHeight(this.cellWidth):(e.fixWidth(this.cellWidth),e.fullWidth&&this.balloon&&(this.balloon.minWidth=this.cellWidth))),this.previousHeight=A}this.axisCreated=!0,this.set.translate(this.x,this.y),this.labelsSet.translate(this.x,this.y),this.labelsSet.show(),this.positionTitle(),(v=this.axisLine.set)&&v.toFront();var A=this.getBBox().height;2<A-this.previousHeight&&this.autoWrap&&!this.parseDates&&(this.axisCreated=this.chart.marginsUpdated=!1)},xToIndex:function(t){var e,i,a=this.data,s=this.chart,r=s.rotate,o=this.stepWidth;if(this.parseDates&&!this.equalSpacing)t=this.startTime+Math.round(t/o)-this.minDuration()/2,e=s.getClosestIndex(a,"time",t,!1,this.start,this.end+1);else if(this.widthField)for(s=1/0,o=this.start;o<=this.end;o++){var h=this.data[o];h&&((h=Math.abs(h.x[this.id]-t))<s&&(s=h,e=o))}else this.startOnAxis||(t-=o/2),e=this.start+Math.round(t/o);return a[e=w.fitToBounds(e,0,a.length-1)]&&(i=a[e].x[this.id]),r?i>this.height+1&&e--:i>this.width+1&&e--,i<0&&e++,w.fitToBounds(e,0,a.length-1)},dateToCoordinate:function(t){return this.parseDates&&!this.equalSpacing?(t.getTime()-this.startTime)*this.stepWidth:this.parseDates&&this.equalSpacing?(t=this.chart.getClosestIndex(this.data,"time",t.getTime(),!1,0,this.data.length-1),this.getCoordinate(t-this.start)):NaN},categoryToCoordinate:function(t){return this.chart?this.parseDates?this.dateToCoordinate(new Date(t)):(t=this.chart.getCategoryIndexByValue(t),isNaN(t)?void 0:this.getCoordinate(t-this.start)):NaN},coordinateToDate:function(t){return this.equalSpacing?(t=this.xToIndex(t),new Date(this.data[t].time)):new Date(this.startTime+t/this.stepWidth)},coordinateToValue:function(t){if(t=this.xToIndex(t),t=this.data[t])return this.parseDates?t.time:t.category},getCoordinate:function(t){return t*=this.stepWidth,this.startOnAxis||(t+=this.stepWidth/2),Math.round(t)},formatValue:function(t,e){return e=e||this.currentDateFormat,this.parseDates&&(t=w.formatDate(new Date(t),e,this.chart)),t},showBalloonAt:function(t,e){return void 0===e&&(e=this.parseDates?this.dateToCoordinate(new Date(t)):this.categoryToCoordinate(t)),this.adjustBalloonCoordinate(e)},formatBalloonText:function(t,e,i){var a,s="",r="",o=this.chart,h=this.data[e];return h&&(this.parseDates?(s=w.formatDate(h.category,i,o),e=w.changeDate(new Date(h.category),this.minPeriod,1),r=w.formatDate(e,i,o),-1!=s.indexOf("fff")&&(s=w.formatMilliseconds(s,h.category),r=w.formatMilliseconds(r,e))):(this.data[e+1]&&(a=this.data[e+1]),s=w.fixNewLines(h.category),a&&(r=w.fixNewLines(a.category)))),(t=t.replace(/\[\[category\]\]/g,String(s))).replace(/\[\[toCategory\]\]/g,String(r))},adjustBalloonCoordinate:function(t,e){var i,a,s,r,o=this.xToIndex(t),h=this.chart.chartCursor;return this.stickBalloonToCategory&&((i=this.data[o])&&(t=i.x[this.id]+1),this.stickBalloonToStart&&(t-=this.cellWidth/2),a=0,h&&((s=h.limitToGraph)&&(r=s.valueAxis.id,s.hidden||(a=i.axes[r].graphs[s.id].y)),this.rotate?("left"==this.position?(s&&(a-=h.width),0<a&&(a=0)):a<0&&(a=0),h.fixHLine(t,a)):("top"==this.position?(s&&(a-=h.height),0<a&&(a=0)):a<0&&(a=0),h.fixVLine(t,a)))),h&&!e&&(h.setIndex(o),this.parseDates&&h.setTimestamp(this.coordinateToDate(t).getTime())),t}})}(),function(){var k=window.AmCharts;k.AmStockChart=k.Class({construct:function(t){this.type="stock",this.cname="AmStockChart",k.addChart(this),this.version="3.21.1",this.theme=t,this.createEvents("buildStarted","zoomed","rollOverStockEvent","rollOutStockEvent","clickStockEvent","panelRemoved","dataUpdated","init","rendered","drawn","resized"),this.colors="#FF6600 #FCD202 #B0DE09 #0D8ECF #2A0CD0 #CD0D74 #CC0000 #00CC00 #0000CC #DDDDDD #999999 #333333 #990000".split(" "),this.firstDayOfWeek=1,this.glueToTheEnd=!1,this.dataSetCounter=-1,this.zoomOutOnDataSetChange=!1,this.panels=[],this.dataSets=[],this.chartCursors=[],this.comparedDataSets=[],this.classNamePrefix="amcharts",this.categoryAxesSettings=new k.CategoryAxesSettings(t),this.valueAxesSettings=new k.ValueAxesSettings(t),this.panelsSettings=new k.PanelsSettings(t),this.chartScrollbarSettings=new k.ChartScrollbarSettings(t),this.chartCursorSettings=new k.ChartCursorSettings(t),this.stockEventsSettings=new k.StockEventsSettings(t),this.legendSettings=new k.LegendSettings(t),this.balloon=new k.AmBalloon(t),this.previousEndDate=new Date(0),this.previousStartDate=new Date(0),this.dataSetCount=this.graphCount=0,this.chartCreated=!1,this.processTimeout=0,this.autoResize=this.extendToFullPeriod=!0,this.langObj={},k.applyTheme(this,t,this.cname)},write:function(t){var e=this;if(e.listeners)for(var i in e.listeners){var a=e.listeners[i];e.addListener(a.event,a.method)}e.fire({type:"buildStarted",chart:e}),e.afterWriteTO&&clearTimeout(e.afterWriteTO),0<e.processTimeout?e.afterWriteTO=setTimeout(function(){e.afterWrite.call(e,t)},e.processTimeout):e.afterWrite(t)},afterWrite:function(t){var e=this.theme;window.AmCharts_path&&(this.path=window.AmCharts_path),void 0===this.path&&(this.path=k.getPath()),void 0===this.path&&(this.path="amcharts/"),this.path=k.normalizeUrl(this.path),void 0===this.pathToImages&&(this.pathToImages=this.path+"images/"),this.initHC||(k.callInitHandler(this),this.initHC=!0),k.applyLang(this.language,this),this.chartCursors=[];var i=this.exportConfig;i&&k.AmExport&&!this.AmExport&&(this.AmExport=new k.AmExport(this,i)),this.amExport&&k.AmExport&&(this.AmExport=k.extend(this.amExport,new k.AmExport(this),!0)),this.AmExport&&this.AmExport.init(),this.chartRendered=!1,t="object"!=typeof t?document.getElementById(t):t,this.zoomOutOnDataSetChange&&(this.endDate=this.startDate=void 0),this.categoryAxesSettings=k.processObject(this.categoryAxesSettings,k.CategoryAxesSettings,e),this.valueAxesSettings=k.processObject(this.valueAxesSettings,k.ValueAxesSettings,e),this.chartCursorSettings=k.processObject(this.chartCursorSettings,k.ChartCursorSettings,e),this.chartScrollbarSettings=k.processObject(this.chartScrollbarSettings,k.ChartScrollbarSettings,e),this.legendSettings=k.processObject(this.legendSettings,k.LegendSettings,e),this.panelsSettings=k.processObject(this.panelsSettings,k.PanelsSettings,e),this.stockEventsSettings=k.processObject(this.stockEventsSettings,k.StockEventsSettings,e),this.dataSetSelector&&(this.dataSetSelector=k.processObject(this.dataSetSelector,k.DataSetSelector,e)),this.periodSelector&&(this.periodSelector=k.processObject(this.periodSelector,k.PeriodSelector,e)),t.innerHTML="",this.div=t,this.measure(),this.createLayout(),this.updateDataSets(),this.addDataSetSelector(),this.addPeriodSelector(),this.addPanels(),this.updatePanels(),this.addChartScrollbar(),this.updateData(),this.skipDefault||this.setDefaultPeriod(),this.skipEvents=!1},setDefaultPeriod:function(){var t=this.periodSelector;t&&(this.animationPlayed=!1,t.setDefaultPeriod())},validateSize:function(){this.measurePanels()},updateDataSets:function(){for(var t=this.mainDataSet,e=this.dataSets,i=0;i<e.length;i++){var a=e[i],a=k.processObject(a,k.DataSet);(e[i]=a).id||(this.dataSetCount++,a.id="ds"+this.dataSetCount),void 0===a.color&&(a.color=this.colors.length-1>i?this.colors[i]:k.randomColor())}!t&&k.ifArray(e)&&(this.mainDataSet=this.dataSets[0]),this.getSelections()},getLastDate:function(t){var e=k.getDate(t,this.dataDateFormat,"fff");t=this.categoryAxesSettings.minPeriod;var i=k.extractPeriod(t),e=k.changeDate(e,i.period,+i.count,!0).getTime();return-1==t.indexOf("fff")&&--e,new Date(e)},getFirstDate:function(t){t=k.getDate(t,this.dataDateFormat,"fff");var e=k.extractPeriod(this.categoryAxesSettings.minPeriod);return new Date(k.resetDateToMin(t,e.period,+e.count,this.firstDayOfWeek))},updateData:function(){var t,e,i,a=this,s=a.mainDataSet;s&&(a.parsingData=!1,t=a.categoryAxesSettings,-1==k.getItemIndex(t.minPeriod,t.groupToPeriods)&&t.groupToPeriods.unshift(t.minPeriod),e=s.dataProvider,k.ifArray(e)?(i=s.categoryField,a.firstDate=a.getFirstDate(e[0][i]),a.lastDate=a.getLastDate(e[e.length-1][i]),a.periodSelector&&a.periodSelector.setRanges(a.firstDate,a.lastDate),s.dataParsed||(a.parsingData=!0,0<a.processTimeout?setTimeout(function(){a.parseStockData.call(a,s,t.minPeriod,t.groupToPeriods,a.firstDayOfWeek,a.dataDateFormat)},a.processTimeout):a.parseStockData(s,t.minPeriod,t.groupToPeriods,a.firstDayOfWeek,a.dataDateFormat)),this.updateComparingData()):(a.firstDate=void 0,a.lastDate=void 0),a.fixGlue(),a.parsingData||a.onDataUpdated())},fixGlue:function(){var t;this.glueToTheEnd&&this.startDate&&this.endDate&&this.lastDate&&(this.startDate=new Date(this.startDate.getTime()+(this.lastDate.getTime()-this.endDate.getTime())+1),t=k.extractPeriod(this.categoryAxesSettings.minPeriod),this.startDate=k.resetDateToMin(this.startDate,t.period,t.count,this.firstDayOfWeek),this.endDate=this.lastDate,this.updateScrollbar=!0)},isDataParsed:function(){if(this.mainDataSet){for(var t=!0,e=0;e<this.comparedDataSets.length;e++)this.comparedDataSets[e].dataParsed||(t=!1);if(this.mainDataSet.dataParsed&&t)return!0}return!1},onDataUpdated:function(){this.isDataParsed()&&(this.updatePanelsWithNewData(),this.skipEvents||this.fire({type:"dataUpdated",chart:this}))},updateComparingData:function(){for(var t=this.comparedDataSets,e=this.categoryAxesSettings,i=0;i<t.length;i++){var a=t[i];a.dataParsed||(this.parsingData=!0,0<this.processTimeout?this.delayedParseStockData(i,a):this.parseStockData(a,e.minPeriod,e.groupToPeriods,this.firstDayOfWeek,this.dataDateFormat))}},delayedParseStockData:function(t,e){var i=this,a=i.categoryAxesSettings;setTimeout(function(){i.parseStockData.call(i,e,a.minPeriod,a.groupToPeriods,i.firstDayOfWeek,i.dataDateFormat)},i.processTimeout*t)},parseStockData:function(t,e,i,a,s){var r=this,o={},h=t.dataProvider,n=t.categoryField;if(n){for(var l,d=k.getItemIndex(e,i),c=i.length,u=h.length,p={},g=d;g<c;g++)o[l=i[g]]=[];var m={},f=t.fieldMappings,v=f.length;for(g=0;g<u;g++){for(var C=h[g],b=k.getDate(C[n],s,e),x=b.getTime(),S={},D=0;D<v;D++)S[f[D].toField]=C[f[D].fromField];for(D=d;D<c;D++){l=i[D];var T,y,A,w=k.extractPeriod(l),N=w.period,P=w.count;if(D==d||x>=p[l]||!p[l]){for(m[l]={},m[l].amCategoryIdField=String(k.resetDateToMin(b,N,P,a).getTime()),A=0;A<v;A++)w=f[A].toField,T=m[l],null!==S[w]&&(y=Number(S[w]),T[w+"Count"]=0,isNaN(y)||(T[w+"Open"]=y,T[w+"Sum"]=y,T[w+"High"]=y,T[w+"AbsHigh"]=y,T[w+"Low"]=y,T[w+"Close"]=y,T[w+"Count"]=1,T[w+"Average"]=y));if(T.dataContext=C,T.rawData=[],T.rawData.push(C),o[l].push(m[l]),d<D&&(w=k.newDate(b,e),w=k.changeDate(w,N,P,!0),w=k.resetDateToMin(w,N,P,a),p[l]=w.getTime()),D==d)for(var B in C)C.hasOwnProperty(B)&&(m[l][B]=C[B]);m[l][n]=k.newDate(b,e)}else for((T=m[l]).rawData&&T.rawData.push(C),l=0;l<v;l++)w=f[l].toField,g==u-1&&(T[n]=k.newDate(b,e)),null!==S[w]&&(y=Number(S[w]),isNaN(y)||(isNaN(T[w+"Low"])&&(T[w+"Low"]=y),y<T[w+"Low"]&&(T[w+"Low"]=y),isNaN(T[w+"High"])&&(T[w+"High"]=y),y>T[w+"High"]&&(T[w+"High"]=y),isNaN(T[w+"AbsHigh"])&&(T[w+"AbsHigh"]=y),Math.abs(y)>T[w+"AbsHigh"]&&(T[w+"AbsHigh"]=y),T[w+"Close"]=y,N=k.getDecimals(T[w+"Sum"]),P=k.getDecimals(y),isNaN(T[w+"Sum"])&&(T[w+"Sum"]=0),T[w+"Sum"]+=y,T[w+"Sum"]=k.roundTo(T[w+"Sum"],Math.max(N,P)),T[w+"Count"]++,T[w+"Average"]=T[w+"Sum"]/T[w+"Count"]))}}}t.agregatedDataProviders=o,k.ifArray(t.stockEvents)?0<r.processTimeout?setTimeout(function(){r.parseEvents.call(r,t,r.panels,r.stockEventsSettings,r.firstDayOfWeek,r,r.dataDateFormat)},r.processTimeout):r.parseEvents(t,r.panels,r.stockEventsSettings,r.firstDayOfWeek,r,r.dataDateFormat):(t.dataParsed=!0,r.onDataUpdated())},parseEvents:function(t,e,i,a,s,r){a=t.stockEvents;for(var o,h,n,l,d,c,u=t.agregatedDataProviders,p=e.length,g=0;g<p;g++){for(h=(l=(d=e[g]).graphs).length,o=0;o<h;o++)(n=l[o]).customBulletField="amCustomBullet"+n.id+"_"+d.id,n.bulletConfigField="amCustomBulletConfig"+n.id+"_"+d.id,n.chart=d;for(o=0;o<a.length;o++)n=(h=a[o]).graph,k.isString(n)&&(n=k.getObjById(l,n))&&(h.graph=n),n&&(h.panel=n.chart)}for(c in u)if(u.hasOwnProperty(c))for(e=u[c],p=k.extractPeriod(c),g=e.length,o=0;o<a.length;o++){n=(h=a[o]).date instanceof Date,r&&!n&&(h.date=k.stringToDate(h.date,r)),n=h.date.getTime();var m=this.getEventDataItem(n,e,t,0,g,p);m&&(n=h.graph,d=h.panel,n&&(l="amCustomBullet"+n.id+"_"+d.id,m[n="amCustomBulletConfig"+n.id+"_"+d.id]?d=m[n]:((d={}).eventDispatcher=s,d.eventObjects=[],d.letters=[],d.descriptions=[],d.shapes=[],d.backgroundColors=[],d.backgroundAlphas=[],d.borderColors=[],d.borderAlphas=[],d.colors=[],d.rollOverColors=[],d.showOnAxis=[],d.values=[],d.showAts=[],d.fontSizes=[],d.showBullets=[],m[l]=k.StackedBullet,m[n]=d),d.eventObjects.push(h),d.letters.push(h.text),d.descriptions.push(h.description),h.type?d.shapes.push(h.type):d.shapes.push(i.type),void 0!==h.backgroundColor?d.backgroundColors.push(h.backgroundColor):d.backgroundColors.push(i.backgroundColor),isNaN(h.backgroundAlpha)?d.backgroundAlphas.push(i.backgroundAlpha):d.backgroundAlphas.push(h.backgroundAlpha),isNaN(h.borderAlpha)?d.borderAlphas.push(i.borderAlpha):d.borderAlphas.push(h.borderAlpha),void 0!==h.borderColor?d.borderColors.push(h.borderColor):d.borderColors.push(i.borderColor),void 0!==h.rollOverColor?d.rollOverColors.push(h.rollOverColor):d.rollOverColors.push(i.rollOverColor),void 0!==h.showAt?d.showAts.push(h.showAt):d.showAts.push(i.showAt),void 0!==h.fontSize&&d.fontSizes.push(h.fontSize),d.colors.push(h.color),d.values.push(h.value),d.showOnAxis.push(h.showOnAxis),d.showBullets.push(h.showBullet),d.date=new Date(h.date)))}t.dataParsed=!0,this.onDataUpdated()},getEventDataItem:function(t,e,i,a,s,r){var o=r.period,h=r.count,n=Math.floor(a+(s-a)/2),l=e[n],d=l[i.categoryField],c=this.dataDateFormat,u=d instanceof Date;return c&&!u&&(d=k.stringToDate(d,c)),c=d.getTime(),"YYYY"==o&&(c=k.resetDateToMin(new Date(d),o,h,this.firstDayOfWeek).getTime()),o="fff"==o?d.getTime()+1:k.resetDateToMin(k.changeDate(new Date(d),r.period,r.count),o,h,this.firstDayOfWeek).getTime(),c<=t&&t<o?l:s-a<=1?void 0:t<c?this.getEventDataItem(t,e,i,a,n,r):this.getEventDataItem(t,e,i,n,s,r)},createLayout:function(){var t,e,i=this.div,a=this.classNamePrefix,s=document.createElement("div");s.style.position="relative",(this.containerDiv=s).className=a+"-stock-div",i.appendChild(s),(i=this.periodSelector)&&(t=i.position),(i=this.dataSetSelector)&&(e=i.position),"left"!=t&&"left"!=e||((i=document.createElement("div")).className=a+"-left-div",i.style.cssFloat="left",i.style.styleFloat="left",i.style.width="0px",i.style.position="absolute",s.appendChild(i),this.leftContainer=i),"right"!=t&&"right"!=e||((t=document.createElement("div")).className=a+"-right-div",t.style.cssFloat="right",t.style.styleFloat="right",t.style.width="0px",s.appendChild(t),this.rightContainer=t),(t=document.createElement("div")).className=a+"-center-div",s.appendChild(t),this.centerContainer=t,(s=document.createElement("div")).className=a+"-panels-div",t.appendChild(s),this.panelsContainer=s},addPanels:function(){this.measurePanels(!0);for(var t=this.panels,e=0;e<t.length;e++){var i=t[e],i=k.processObject(i,k.StockPanel,this.theme,!0);t[e]=i,this.addStockPanel(i,e)}this.panelsAdded=!0},measurePanels:function(t){this.measure();var e=this.chartScrollbarSettings,i=this.divRealHeight,a=this.divRealWidth;if(this.div){var s=this.panelsSettings.panelSpacing;if(e.enabled&&(i-=e.height),(e=this.periodSelector)&&!e.vertical&&(i-=(e=e.offsetHeight)+s),(e=this.dataSetSelector)&&!e.vertical&&(i-=(e=e.offsetHeight)+s),t||i==this.prevPH&&this.prevPW==a||this.fire({type:"resized",chart:this}),this.prevPW!=a&&(this.prevPW=a),i!=this.prevPH){t=this.panels,0<i&&(this.panelsContainer.style.height=i+"px");for(var r,o,a=0,e=0;e<t.length;e++)(r=t[e])&&(o=r.percentHeight,isNaN(o)&&(o=100/t.length,r.percentHeight=o),a+=o);for(this.panelsHeight=Math.max(i-s*(t.length-1),0),e=0;e<t.length;e++)(r=t[e])&&(r.percentHeight=r.percentHeight/a*100,r.panelBox&&(r.panelBox.style.height=Math.round(r.percentHeight*this.panelsHeight/100)+"px"));this.prevPH=i}}},addStockPanel:function(t,e){var i=this.panelsSettings,a=document.createElement("div");0<e&&!this.panels[e-1].showCategoryAxis&&(a.style.marginTop=i.panelSpacing+"px"),t.hideBalloonReal(),t.panelBox=a,t.stockChart=this,t.langObj=this.langObj,t.id||(t.id="stockPanel"+e),a.className="amChartsPanel "+this.classNamePrefix+"-stock-panel-div "+this.classNamePrefix+"-stock-panel-div-"+t.id,t.pathToImages=this.pathToImages,t.path=this.path,a.style.height=Math.round(t.percentHeight*this.panelsHeight/100)+"px",a.style.width="100%",this.panelsContainer.appendChild(a),0<i.backgroundAlpha&&(a.style.backgroundColor=i.backgroundColor),(a=t.stockLegend)&&((a=k.processObject(a,k.StockLegend,this.theme)).container=void 0,a.title=t.title,a.marginLeft=i.marginLeft,a.marginRight=i.marginRight,a.verticalGap=3,a.position="top",k.copyProperties(this.legendSettings,a),t.addLegend(a,a.divId)),t.zoomOutText="",this.addCursor(t)},enableCursors:function(t){for(var e=this.chartCursors,i=0;i<e.length;i++)e[i].enabled=t},updatePanels:function(){for(var t=this.panels,e=0;e<t.length;e++)this.updatePanel(t[e]);this.mainDataSet&&this.updateGraphs(),this.currentPeriod=void 0},updatePanel:function(t){t.seriesIdField="amCategoryIdField",t.dataProvider=[],t.chartData=[],t.graphs=[];var e=t.categoryAxis,i=this.categoryAxesSettings;k.copyProperties(this.panelsSettings,t),k.copyProperties(i,e),e.parseDates=!0,t.addClassNames=this.addClassNames,t.classNamePrefix=this.classNamePrefix,t.zoomOutOnDataUpdate=!1,void 0!==this.mouseWheelScrollEnabled&&(t.mouseWheelScrollEnabled=this.mouseWheelScrollEnabled),void 0!==this.mouseWheelZoomEnabled&&(t.mouseWheelZoomEnabled=this.mouseWheelZoomEnabled),t.dataDateFormat=this.dataDateFormat,t.language=this.language,t.showCategoryAxis?"top"==e.position?t.marginTop=i.axisHeight:t.marginBottom=i.axisHeight:(t.categoryAxis.labelsEnabled=!1,t.chartCursor&&(t.chartCursor.categoryBalloonEnabled=!1));var a,s=(i=t.valueAxes).length;for(0===s&&(a=new k.ValueAxis(this.theme),t.addValueAxis(a)),e=new k.AmBalloon(this.theme),k.copyProperties(this.balloon,e),t.balloon=e,s=(i=t.valueAxes).length,e=0;e<s;e++)a=i[e],k.copyProperties(this.valueAxesSettings,a);t.listenersAdded=!1,t.write(t.panelBox)},zoom:function(t,e){this.zoomChart(t,e)},zoomOut:function(){this.zoomChart(this.firstDate,this.lastDate)},updatePanelsWithNewData:function(){var t=this.mainDataSet,e=this.scrollbarChart;if(this.updateGraphs(),t){var i,a,s,r,o,h=this.panels;for(this.currentPeriod=void 0,o=0;o<h.length;o++){var n=h[o];n.categoryField=t.categoryField,0===t.dataProvider.length&&(n.dataProvider=[]),n.scrollbarChart=e}e&&(o=(h=this.categoryAxesSettings).minPeriod,e.categoryField=t.categoryField,n=e.dataProvider,0<t.dataProvider.length?(i=this.chartScrollbarSettings.usePeriod)?(a=t.agregatedDataProviders[o],s=t.categoryField,r=this.getFirstDate(a[0][s]).getTime(),this.getLastDate(a[a.length-1][s]).getTime()-r<k.getPeriodDuration(i)&&(i=o),e.dataProvider=t.agregatedDataProviders[i]):e.dataProvider=t.agregatedDataProviders[o]:e.dataProvider=[],(i=e.categoryAxis).minPeriod=o,i.firstDayOfWeek=this.firstDayOfWeek,i.equalSpacing=h.equalSpacing,i.axisAlpha=0,i.markPeriodChange=h.markPeriodChange,e.bbsetr=!0,n!=e.dataProvider&&e.validateData(),h=this.panelsSettings,e.maxSelectedTime=h.maxSelectedTime,e.minSelectedTime=h.minSelectedTime),0<t.dataProvider.length&&(this.fixGlue(),this.zoomChart(this.startDate,this.endDate))}this.panelDataInvalidated=!1},addChartScrollbar:function(){var t=this.chartScrollbarSettings;if((e=this.scrollbarChart)&&(e.clear(),e.destroy()),t.enabled){var e,i=this.panelsSettings,a=this.categoryAxesSettings;(e=new k.AmSerialChart(this.theme)).svgIcons=i.svgIcons,e.language=this.language,e.pathToImages=this.pathToImages,e.autoMargins=!1,e.addClassNames=!0,(this.scrollbarChart=e).id="scrollbarChart",e.scrollbarOnly=!0,e.zoomOutText="",i.fontFamily&&(e.fontFamily=i.fontFamily),isNaN(i.fontSize)||(e.fontSize=i.fontSize),e.marginLeft=i.marginLeft,e.marginRight=i.marginRight,e.marginTop=0,e.marginBottom=0;var s,i=a.dateFormats,r=e.categoryAxis;if(r.boldPeriodBeginning=a.boldPeriodBeginning,i&&(r.dateFormats=a.dateFormats),r.labelsEnabled=!1,r.parseDates=!0,a=t.graph,k.isString(a)){for(i=this.panels,r=0;r<i.length;r++){var o=k.getObjById(i[r].stockGraphs,t.graph);o&&(a=o)}t.graph=a}a&&((s=new k.AmGraph(this.theme)).valueField=a.valueField,s.periodValue=a.periodValue,s.type=a.type,s.connect=a.connect,s.minDistance=t.minDistance,e.addGraph(s)),a=new k.ChartScrollbar(this.theme),e.addChartScrollbar(a),k.copyProperties(t,a),a.scrollbarHeight=t.height,a.graph=s,this.listenTo(a,"zoomed",this.handleScrollbarZoom),(s=document.createElement("div")).className=this.classNamePrefix+"-scrollbar-chart-div",s.style.height=t.height+"px",a=this.periodSelectorContainer,i=this.periodSelector,r=this.centerContainer,"bottom"==t.position?i&&"bottom"==i.position?r.insertBefore(s,a):r.appendChild(s):i&&"top"==i.position?r.insertBefore(s,a.nextSibling):r.insertBefore(s,r.firstChild),e.write(s)}},handleScrollbarZoom:function(t){var e,i;this.skipScrollbarEvent?this.skipScrollbarEvent=!1:(e=t.endDate,(i={}).startDate=t.startDate,i.endDate=e,this.updateScrollbar=!1,this.handleZoom(i))},addPeriodSelector:function(){var t=this.periodSelector;if(t){var e=this.categoryAxesSettings.minPeriod;t.minDuration=k.getPeriodDuration(e),t.minPeriod=e;var i,a=(t.chart=this).dataSetSelector,e=this.dssContainer;a&&(i=a.position);var a=this.panelsSettings.panelSpacing,s=document.createElement("div");this.periodSelectorContainer=s;var r=this.leftContainer,o=this.rightContainer,h=this.centerContainer,n=this.panelsContainer,l=t.width+2*a+"px";switch(t.position){case"left":r.style.width=t.width+"px",r.appendChild(s),h.style.paddingLeft=l;break;case"right":h.style.marginRight=l,o.appendChild(s),o.style.width=t.width+"px";break;case"top":n.style.clear="both",h.insertBefore(s,n),s.style.paddingBottom=a+"px",s.style.overflow="hidden";break;case"bottom":s.style.marginTop=a+"px","bottom"==i?h.insertBefore(s,e):h.appendChild(s)}this.listenTo(t,"changed",this.handlePeriodSelectorZoom),t.write(s)}},addDataSetSelector:function(){var t=this.dataSetSelector;if(t){t.chart=this,t.dataProvider=this.dataSets;var e=t.position,i=this.panelsSettings.panelSpacing,a=document.createElement("div");this.dssContainer=a;var s=this.leftContainer,r=this.rightContainer,o=this.centerContainer,h=this.panelsContainer,i=t.width+2*i+"px";switch(e){case"left":s.style.width=t.width+"px",s.appendChild(a),o.style.paddingLeft=i;break;case"right":o.style.marginRight=i,r.appendChild(a),r.style.width=t.width+"px";break;case"top":h.style.clear="both",o.insertBefore(a,h),a.style.overflow="hidden";break;case"bottom":o.appendChild(a)}t.write(a)}},handlePeriodSelectorZoom:function(t){var e=this.scrollbarChart;e&&(e.updateScrollbar=!0),t.predefinedPeriod?(this.predefinedStart=t.startDate,this.predefinedEnd=t.endDate):this.predefinedEnd=this.predefinedStart=null,this.zoomOutValueAxes(),this.zoomChart(t.startDate,t.endDate)},zoomOutValueAxes:function(){var t=this.panels;if(this.panelsSettings.zoomOutAxes)for(var e=0;e<t.length;e++){var i=t[e].valueAxes;if(i)for(var a=0;a<i.length;a++){var s=i[a];s.minZoom=NaN,s.maxZoom=NaN}}},addCursor:function(t){var e,i,a=this.chartCursorSettings;a.enabled&&(e=new k.ChartCursor(this.theme),k.copyProperties(a,e),i=a.categoryBalloonFunction,t.chartCursor&&(k.copyProperties(t.chartCursor,e),t.chartCursor.categoryBalloonFunction&&(i=t.chartCursor.categoryBalloonFunction)),e.categoryBalloonFunction=i,t.removeChartCursor(),t.addChartCursor(e),"mouse"==a.cursorPosition?this.listenTo(e,"moved",this.handleCursorChange):this.listenTo(e,"changed",this.handleCursorChange),this.listenTo(e,"onHideCursor",this.handleCursorChange),this.listenTo(e,"zoomStarted",this.handleCursorChange),this.listenTo(e,"zoomed",this.handleCursorZoom),this.chartCursors.push(e))},handleCursorChange:function(t){t=t.target;for(var e=this.chartCursors,i=0;i<e.length;i++){var a=e[i];a!=t&&a.syncWithCursor(t,this.chartCursorSettings.onePanelOnly)}},handleCursorZoom:function(t){(s=this.scrollbarChart)&&(s.updateScrollbar=!0);var e,i,a,s={};a=this.categoryAxesSettings.equalSpacing?(a=this.mainDataSet.categoryField,e=this.mainDataSet.agregatedDataProviders[this.currentPeriod],i=new Date(e[t.start][a]),new Date(e[t.end][a])):(i=new Date(t.start),new Date(t.end)),s.startDate=i,s.endDate=a,this.handleZoom(s),this.handleCursorChange(t)},handleZoom:function(t){this.zoomChart(t.startDate,t.endDate)},zoomChart:function(t,e){var i=this;t=t||i.firstDate;var a,s=k.newDate(t),r=i.firstDate,o=i.lastDate,h=i.currentPeriod,n=i.categoryAxesSettings,l=n.minPeriod,d=i.panelsSettings,c=i.periodSelector,u=i.panels,p=i.comparedGraphs,g=i.scrollbarChart,m=i.firstDayOfWeek;if(r&&o){t=t||r,e=e||o,h&&(a=k.extractPeriod(h),t.getTime()==e.getTime()&&a!=l&&(e=k.changeDate(e,a.period,a.count)).setTime(e.getTime()-1)),t.getTime()<r.getTime()&&(t=r),t.getTime()>o.getTime()&&(t=o),e.getTime()<r.getTime()&&(e=r),e.getTime()>o.getTime()&&(e=o),l=k.getItemIndex(l,n.groupToPeriods),n=h,h=i.choosePeriod(l,t,e),i.currentPeriod=h;var l=k.extractPeriod(h),f=k.getPeriodDuration(l.period,l.count);for(e.getTime()-t.getTime()<1&&(t=new Date(e.getTime()-1)),a=k.newDate(t),i.extendToFullPeriod&&(a.getTime()-r.getTime()<.1*f&&(a=k.resetDateToMin(t,l.period,l.count,m)),o.getTime()-e.getTime()<.1*f&&(e=k.resetDateToMin(o,l.period,l.count,m),e=k.changeDate(e,l.period,l.count,!0))),r=0;r<u.length;r++)(o=u[r]).chartCursor&&o.chartCursor.panning&&(a=s);for(r=0;r<u.length;r++){if(o=u[r],s=!1,h!=n){for(s=0;s<p.length;s++)(f=p[s].graph).dataProvider=f.dataSet.agregatedDataProviders[h];(s=o.categoryAxis).firstDayOfWeek=m,s.minPeriod=h,o.dataProvider=i.mainDataSet.agregatedDataProviders[h],(s=o.chartCursor)&&(s.categoryBalloonDateFormat=i.chartCursorSettings.categoryBalloonDateFormat(l.period),o.showCategoryAxis||(s.categoryBalloonEnabled=!1)),o.startTime=a.getTime(),o.endTime=e.getTime(),o.start=NaN,o.validateData(!0),s=!0}o.chartCursor&&o.chartCursor.panning&&(s=!0),s||(o.startTime=void 0,o.endTime=void 0,o.zoomToDates(a,e)),0<d.startDuration&&i.animationPlayed&&!s?(o.startDuration=0,o.animateAgain()):0<d.startDuration&&!s&&o.animateAgain()}i.animationPlayed=!0,d=k.newDate(e),g&&i.updateScrollbar&&(g.zoomToDates(t,d),i.skipScrollbarEvent=!0,setTimeout(function(){i.resetSkip.call(i)},100)),i.updateScrollbar=!0,i.startDate=t,i.endDate=e,c&&c.zoom(t,e),i.skipEvents||t.getTime()==i.previousStartDate.getTime()&&e.getTime()==i.previousEndDate.getTime()||((c={type:"zoomed"}).startDate=t,c.endDate=e,c.chart=i,c.period=h,i.fire(c),i.previousStartDate=k.newDate(t),i.previousEndDate=k.newDate(e))}i.eventsHidden&&i.showHideEvents(!1),i.dispDUpd()},dispDUpd:function(){this.skipEvents||(this.chartCreated||(this.chartCreated=!0,this.fire({type:"init",chart:this})),this.chartRendered||(this.chartRendered=!0,this.fire({type:"rendered",chart:this})),this.fire({type:"drawn",chart:this})),this.animationPlayed=this.chartCreated=!0},resetSkip:function(){this.skipScrollbarEvent=!1},updateGraphs:function(){if(this.getSelections(),0<this.dataSets.length){var t,e=this.panels;for(this.comparedGraphs=[],t=0;t<e.length;t++){for(var i,a,s=e[t],r=s.valueAxes,o=0;o<r.length;o++){var h=r[o];h.prevLog&&(h.logarithmic=h.prevLog),h.recalculateToPercents="always"==s.recalculateToPercents}for(r=this.mainDataSet,o=this.comparedDataSets,h=s.stockGraphs,s.graphs=[],i=0;i<h.length;i++){var n=h[i],n=k.processObject(n,k.StockGraph,this.theme);(h[i]=n).title&&!n.resetTitleOnDataSetChange||(n.title=r.title,n.resetTitleOnDataSetChange=!0),n.useDataSetColors&&(n.lineColor=r.color,n.fillColors=void 0,n.bulletColor=void 0);for(var l=!1,d=r.fieldMappings,c=0;c<d.length;c++){a=d[c];var u=n.valueField;u&&a.toField==u&&(l=!0),(u=n.openField)&&a.toField==u&&(l=!0),(u=n.closeField)&&a.toField==u&&(l=!0),(u=n.lowField)&&a.toField==u&&(l=!0)}s.graphs.push(n),s.processGraphs(),n.hideFromLegend=!l,u=!1,"always"==s.recalculateToPercents&&(u=!0);var p,g,m,f,v=s.stockLegend;if(v&&(v=k.processObject(v,k.StockLegend,this.theme),p=(s.stockLegend=v).valueTextComparing,g=v.valueTextRegular,m=v.periodValueTextComparing,f=v.periodValueTextRegular),n.comparable){var C,b=o.length;if(n.valueAxis)for(0<b&&n.valueAxis.logarithmic&&"never"!=s.recalculateToPercents&&(n.valueAxis.logarithmic=!1,n.valueAxis.prevLog=!0),0<b&&"whenComparing"==s.recalculateToPercents&&(n.valueAxis.recalculateToPercents=!0),v&&n.valueAxis&&!0===n.valueAxis.recalculateToPercents&&(u=!0),C=0;C<b;C++){var x=o[C],S=n.comparedGraphs[x.id];S||((S=new k.AmGraph(this.theme)).id="comparedGraph_"+n.id+"_"+x.id),n.compareGraphType&&(S.type=n.compareGraphType),n.compareGraph&&k.copyProperties(n.compareGraph,S),S.periodValue=n.periodValue,S.recalculateValue=n.recalculateValue,S.dataSet=x,S.behindColumns=n.behindColumns,(n.comparedGraphs[x.id]=S).seriesIdField="amCategoryIdField",S.connect=n.connect,S.clustered=n.clustered,S.showBalloon=n.showBalloon,this.passFields(n,S);var D=(D=n.compareField)||n.valueField;for(S.customBulletsHidden=!n.showEventsOnComparedGraphs,l=!1,d=x.fieldMappings,c=0;c<d.length;c++)(a=d[c]).toField==D&&(l=!0);l&&(S.valueField=D,S.title=x.title||n.title,S.lineColor=x.color,n.compareGraphLineColor&&(S.lineColor=n.compareGraphLineColor),c=n.compareGraphLineThickness,isNaN(c)||(S.lineThickness=c),c=n.compareGraphDashLength,isNaN(c)||(S.dashLength=c),c=n.compareGraphLineAlpha,isNaN(c)||(S.lineAlpha=c),c=n.compareGraphCornerRadiusTop,isNaN(c)||(S.cornerRadiusTop=c),c=n.compareGraphCornerRadiusBottom,isNaN(c)||(S.cornerRadiusBottom=c),c=n.compareGraphBalloonColor,isNaN(c)||(S.balloonColor=c),c=n.compareGraphBulletColor,isNaN(c)||(S.bulletColor=c),(c=n.compareGraphFillColors)&&(S.fillColors=c),(c=n.compareGraphNegativeFillColors)&&(S.negativeFillColors=c),(c=n.compareGraphFillAlphas)&&(S.fillAlphas=c),(c=n.compareGraphNegativeFillAlphas)&&(S.negativeFillAlphas=c),(c=n.compareGraphBullet)&&(S.bullet=c),(c=n.compareGraphNumberFormatter)&&(S.numberFormatter=c),c=n.compareGraphPrecision,isNaN(c)||(S.precision=c),(c=n.compareGraphBalloonText)&&(S.balloonText=c),c=n.compareGraphBulletSize,isNaN(c)||(S.bulletSize=c),c=n.compareGraphBulletAlpha,isNaN(c)||(S.bulletAlpha=c),c=n.compareGraphBulletBorderAlpha,isNaN(c)||(S.bulletBorderAlpha=c),(c=n.compareGraphBulletBorderColor)&&(S.bulletBorderColor=c),c=n.compareGraphBulletBorderThickness,isNaN(c)||(S.bulletBorderThickness=c),S.visibleInLegend=n.compareGraphVisibleInLegend,S.balloonFunction=n.compareGraphBalloonFunction,S.hideBulletsCount=n.hideBulletsCount,S.valueAxis=n.valueAxis,v&&(u&&p?(S.legendValueTextR=p,S.legendPeriodValueTextR=m):(g&&(S.legendValueTextR=g),S.legendPeriodValueTextR=f)),s.showComparedOnTop?s.graphs.push(S):s.graphs.unshift(S),this.comparedGraphs.push({graph:S,dataSet:x}))}}v&&(u&&p?(n.legendValueTextR=p,n.legendPeriodValueTextR=m):(g&&(n.legendValueTextR=g),n.legendPeriodValueTextR=f))}}}},passFields:function(t,e){for(var i="lineColor color alpha fillColors description bullet customBullet bulletSize bulletConfig url labelColor dashLength pattern gap className".split(" "),a=0;a<i.length;a++){var s=i[a];e[s+"Field"]=t[s+"Field"]}},choosePeriod:function(t,e,i){var a=this.categoryAxesSettings,s=a.groupToPeriods,r=s[t],o=s[t+1],h=k.extractPeriod(r),h=k.getPeriodDuration(h.period,h.count),n=e.getTime(),l=i.getTime(),d=a.maxSeries;return a.alwaysGroup&&r==a.minPeriod&&(r=1<s.length?s[1]:s[0]),d<(l-n)/h&&0<d&&o?this.choosePeriod(t+1,e,i):r},getSelections:function(){for(var t=[],e=this.dataSets,i=0;i<e.length;i++){var a=e[i];a.compared&&t.push(a)}for(this.comparedDataSets=t,e=this.panels,i=0;i<e.length;i++)(a=e[i]).hideDrawingIcons&&("never"!=a.recalculateToPercents&&0<t.length?a.hideDrawingIcons(!0):a.drawingIconsEnabled&&a.hideDrawingIcons(!1))},addPanel:function(t){this.panels.push(t),this.prevPH=void 0,k.removeChart(t),k.addChart(t)},addPanelAt:function(t,e){this.panels.splice(e,0,t),this.prevPH=void 0,k.removeChart(t),k.addChart(t)},removePanel:function(t){var e,i=this.panels;for(this.prevPH=void 0,e=i.length-1;0<=e;e--)i[e]==t&&(this.fire({type:"panelRemoved",panel:t,chart:this}),i.splice(e,1),t.destroy(),t.clear())},validateData:function(t){var e=this;e.validateDataTO&&clearTimeout(e.validateDataTO),e.validateDataTO=setTimeout(function(){e.validateDataReal.call(e,t)},100)},validateDataReal:function(t){t||this.resetDataParsed(),this.updateDataSets(),this.mainDataSet.compared=!1,this.updateData(),(t=this.dataSetSelector)&&t.write(t.div)},resetDataParsed:function(){for(var t=this.dataSets,e=0;e<t.length;e++)t[e].dataParsed=!1},validateNow:function(t,e){this.skipDefault=!0,this.chartRendered=!1,this.prevPH=void 0,this.skipEvents=e,this.clear(!0),this.initTO&&clearTimeout(this.initTO),t&&this.resetDataParsed(),this.write(this.div)},hideStockEvents:function(){this.showHideEvents(!1),this.eventsHidden=!0},showStockEvents:function(){this.showHideEvents(!0),this.eventsHidden=!1},showHideEvents:function(t){for(var e=this.panels,i=0;i<e.length;i++)for(var a=e[i].graphs,s=0;s<a.length;s++){var r=a[s];!0===t?r.showCustomBullets(!0):r.hideCustomBullets(!0)}},invalidateSize:function(){var t=this;clearTimeout(t.validateTO);var e=setTimeout(function(){t.validateNow()},5);t.validateTO=e},measure:function(){var t,e,i=this.div;i&&(t=i.offsetWidth,e=i.offsetHeight,i.clientHeight&&(t=i.clientWidth,e=i.clientHeight),this.divRealWidth=t,this.divRealHeight=e)},handleResize:function(){var t=this,e=setTimeout(function(){t.validateSizeReal()},150);t.initTO=e},validateSizeReal:function(){this.previousWidth=this.divRealWidth,this.previousHeight=this.divRealHeight,this.measure(),this.divRealWidth==this.previousWidth&&this.divRealHeight==this.previousHeight||(0<this.divRealWidth&&0<this.divRealHeight&&this.fire({type:"resized",chart:this}),this.divRealHeight!=this.previousHeight&&this.validateNow())},clear:function(t){var e,i=this.panels;if(i)for(e=0;e<i.length;e++){var a=i[e];t||(a.cleanChart(),a.destroy()),a.clear(t)}(i=this.scrollbarChart)&&i.clear(),this.validateDataTO&&clearTimeout(this.validateDataTO),(i=this.div)&&(i.innerHTML=""),t||(k.removeChart(this),this.div=null,k.deleteObject(this))}}),k.StockEvent=k.Class({construct:function(){}})}(),function(){var t=window.AmCharts;t.DataSet=t.Class({construct:function(){this.cname="DataSet",this.fieldMappings=[],this.dataProvider=[],this.agregatedDataProviders=[],this.stockEvents=[],this.compared=!1,this.showInCompare=this.showInSelect=!0}})}(),function(){var p=window.AmCharts;p.PeriodSelector=p.Class({construct:function(t){this.cname="PeriodSelector",this.theme=t,this.createEvents("changed"),this.inputFieldsEnabled=!0,this.position="bottom",this.width=180,this.fromText="From: ",this.toText="to: ",this.periodsText="Zoom: ",this.accessibilityText="Select a timeframe to show chart data",this.periods=[],this.inputFieldWidth=100,this.dateFormat="DD-MM-YYYY",this.hideOutOfScopePeriods=!0,p.applyTheme(this,t,this.cname)},zoom:function(t,e){var i=this.chart;this.inputFieldsEnabled&&(this.startDateField.value=p.formatDate(t,this.dateFormat,i),this.endDateField.value=p.formatDate(e,this.dateFormat,i)),this.markButtonAsSelected()},write:function(t){var e=this,i=(u=e.chart).classNamePrefix;t.className="amChartsPeriodSelector "+i+"-period-selector-div";var a=e.width,s=e.position;e.width=void 0,e.position=void 0,p.applyStyles(t.style,e),e.width=a,e.position=s,(e.div=t).innerHTML='<fieldset style="border: none; padding:0"><legend style="display: none;">'+(u.langObj.periodSelectorAccessibilityText||e.accessibilityText)+"</legend></fieldset>";var r=t.firstChild;t=e.theme,a="top"!=(a=e.position)&&"bottom"!=a,e.vertical=a;var o,h,n,l,d=s=0;if(e.inputFieldsEnabled&&(o=document.createElement("div"),r.appendChild(o),n=document.createTextNode(u.langObj.fromText||e.fromText),o.appendChild(n),a?p.addBr(o):(o.style.styleFloat="left",o.style.display="inline"),(h=document.createElement("input")).setAttribute("aria-label",u.langObj.fromText||e.fromText),h.className="amChartsInputField "+i+"-start-date-input",t&&p.applyStyles(h.style,t.PeriodInputField),h.style.textAlign="center",h.onblur=function(t){e.handleCalChange(t)},p.isNN&&h.addEventListener("keypress",function(t){e.handleCalendarChange.call(e,t)},!0),p.isIE&&h.attachEvent("onkeypress",function(t){e.handleCalendarChange.call(e,t)}),o.appendChild(h),e.startDateField=h,a?(n=e.width-6+"px",p.addBr(o)):(n=e.inputFieldWidth+"px",l=document.createTextNode(" "),o.appendChild(l)),h.style.width=n,h=document.createTextNode(u.langObj.toText||e.toText),o.appendChild(h),a&&p.addBr(o),(h=document.createElement("input")).setAttribute("aria-label",u.langObj.toText||e.toText),h.className="amChartsInputField "+i+"-end-date-input",t&&p.applyStyles(h.style,t.PeriodInputField),h.style.textAlign="center",h.onblur=function(){e.handleCalChange()},p.isNN&&h.addEventListener("keypress",function(t){e.handleCalendarChange.call(e,t)},!0),p.isIE&&h.attachEvent("onkeypress",function(t){e.handleCalendarChange.call(e,t)}),o.appendChild(h),e.endDateField=h,a?p.addBr(o):s=h.offsetHeight+2,n&&(h.style.width=n)),o=e.periods,p.ifArray(o)){n=document.createElement("div"),a||(n.style.cssFloat="right",n.style.styleFloat="right",n.style.display="inline"),r.appendChild(n),a&&p.addBr(n),u=document.createTextNode(u.langObj.periodsText||e.periodsText),n.appendChild(u),e.periodContainer=n;for(var c,u=0;u<o.length;u++)r=o[u],(c=document.createElement("input")).type="button",c.value=r.label,c.period=r.period,c.count=r.count,c.periodObj=r,c.className="amChartsButton "+i+"-period-input",t&&p.applyStyles(c.style,t.PeriodButton),a&&(c.style.width=e.width-1+"px"),c.style.boxSizing="border-box",n.appendChild(c),e.addEventListeners(c),r.button=c;!a&&c&&(d=c.offsetHeight)}e.offsetHeight=Math.max(s,d)},addEventListeners:function(t){var e=this;p.isNN&&t.addEventListener("click",function(t){e.handlePeriodChange.call(e,t)},!0),p.isIE&&t.attachEvent("onclick",function(t){e.handlePeriodChange.call(e,t)})},getPeriodDates:function(){for(var t=this.periods,e=0;e<t.length;e++)this.selectPeriodButton(t[e],!0)},handleCalendarChange:function(t){13==t.keyCode&&this.handleCalChange(t)},handleCalChange:function(t){var e,i=this.dateFormat,a=p.stringToDate(this.startDateField.value,i),i=this.chart.getLastDate(p.stringToDate(this.endDateField.value,i));try{this.startDateField.blur(),this.endDateField.blur()}catch(t){}a&&i&&((e={type:"changed"}).startDate=a,e.endDate=i,e.chart=this.chart,e.event=t,this.fire(e))},handlePeriodChange:function(t){this.selectPeriodButton((t.srcElement||t.target).periodObj,!1,t)},setRanges:function(t,e){this.firstDate=t,this.lastDate=e,this.getPeriodDates()},selectPeriodButton:function(t,e,i){var a,s,r=t.button,o=r.count,h=r.period,n=this.chart,l=this.firstDate,d=this.lastDate,c=this.theme,u=this.selectFromStart;l&&d&&("MAX"==h?(u=l,a=d):"YTD"==h?((u=new Date).setMonth(0,1),u.setHours(0,0,0,0),0===o&&u.setDate(u.getDate()-1),a=this.lastDate):"YYYY"==h||"MM"==h?u?(u=l,"YYYY"==h&&(o*=12),(a=new Date(l)).setMonth(a.getMonth()+o)):(u=new Date(d),"YYYY"==h&&(h="MM",o*=12),"MM"==h&&(u=p.resetDateToMin(u,"DD")),p.changeDate(u,h,o,!1),a=d):"fff"==h?(p.getPeriodDuration(h,o),s=p.getPeriodDuration(h,o),u?(u=l,a.setMilliseconds(l.getMilliseconds()-s+1)):((u=new Date(d.getTime())).setMilliseconds(u.getMilliseconds()-s+1),a=this.lastDate)):(s=p.getPeriodDuration(h,o),a=u?(u=l,new Date(l.getTime()+s-1)):(u=new Date(d.getTime()-s+1),d)),t.startTime=u.getTime(),this.hideOutOfScopePeriods&&(e&&t.startTime<l.getTime()?r.style.display="none":r.style.display="inline"),u.getTime()>d.getTime()&&(s=p.getPeriodDuration("DD",1),u=new Date(d.getTime()-s)),u.getTime()<l.getTime()&&(u=l),"YTD"==h&&(t.startTime=u.getTime(),d.getFullYear()<(new Date).getFullYear()&&(r.style.display="none")),t.endTime=a.getTime(),e||(this.skipMark=!0,this.unselectButtons(),r.className="amChartsButtonSelected "+n.classNamePrefix+"-period-input-selected",c&&p.applyStyles(r.style,c.PeriodButtonSelected),(t={type:"changed"}).startDate=u,t.endDate=a,t.predefinedPeriod=h,t.chart=this.chart,t.count=o,t.event=i,this.fire(t)))},markButtonAsSelected:function(){if(!this.skipMark){var t,e=this.chart,i=this.periods,a=e.startDate.getTime(),s=e.endDate.getTime(),r=this.lastDate.getTime();for(r<s&&(s=r),r=this.theme,this.unselectButtons(),t=i.length-1;0<=t;t--){var o=i[t],h=o.button;o.startTime&&o.endTime&&a==o.startTime&&s==o.endTime&&(this.unselectButtons(),h.className="amChartsButtonSelected "+e.classNamePrefix+"-period-input-selected",r&&p.applyStyles(h.style,r.PeriodButtonSelected))}}this.skipMark=!1},unselectButtons:function(){for(var t=this.chart,e=this.periods,i=this.theme,a=e.length-1;0<=a;a--){var s=e[a].button;s.className="amChartsButton "+t.classNamePrefix+"-period-input",i&&p.applyStyles(s.style,i.PeriodButton)}},setDefaultPeriod:function(){var t,e=this.periods;if(this.chart.chartCreated)for(t=0;t<e.length;t++){var i=e[t];i.selected&&this.selectPeriodButton(i)}}})}(),function(){var e=window.AmCharts;e.StockGraph=e.Class({inherits:e.AmGraph,construct:function(t){e.StockGraph.base.construct.call(this,t),this.cname="StockGraph",this.useDataSetColors=!0,this.periodValue="Close",this.compareGraphType="line",this.compareGraphVisibleInLegend=!0,this.comparable=this.resetTitleOnDataSetChange=!1,this.comparedGraphs={},this.showEventsOnComparedGraphs=!1,e.applyTheme(this,t,this.cname)}})}(),function(){var d=window.AmCharts;d.StockPanel=d.Class({inherits:d.AmSerialChart,construct:function(t){d.StockPanel.base.construct.call(this,t),this.cname="StockPanel",this.theme=t,this.showCategoryAxis=this.showComparedOnTop=!0,this.recalculateToPercents="whenComparing",this.panelHeaderPaddingBottom=this.panelHeaderPaddingLeft=this.panelHeaderPaddingRight=this.panelHeaderPaddingTop=0,this.trendLineAlpha=1,this.trendLineColor="#00CC00",this.trendLineColorHover="#CC0000",this.trendLineThickness=2,this.trendLineDashLength=0,this.stockGraphs=[],this.drawingIconsEnabled=!1,this.iconSize=38,this.autoMargins=this.allowTurningOff=this.eraseAll=this.erasingEnabled=this.drawingEnabled=!1,d.applyTheme(this,t,this.cname)},initChart:function(t){d.StockPanel.base.initChart.call(this,t),this.drawingIconsEnabled&&this.createDrawIcons(),(t=this.chartCursor)&&this.listenTo(t,"draw",this.handleDraw)},addStockGraph:function(t){return this.stockGraphs.push(t),t},handleCursorZoom:function(t){t.start=NaN,t.end=NaN,d.StockPanel.base.handleCursorZoom.call(this,t)},removeStockGraph:function(t){for(var e=this.stockGraphs,i=e.length-1;0<=i;i--)e[i]==t&&e.splice(i,1)},createDrawIcons:function(){var t=this,e=t.iconSize,i=t.container,a=t.pathToImages,s=t.realWidth-2*e-1-t.marginRight,r=d.rect(i,e,e,"#000",.005),o=d.rect(i,e,e,"#000",.005);o.translate(e+1,0);var h=i.image(a+"pencilIcon"+t.extension,0,0,e,e);d.setCN(t,h,"pencil"),t.pencilButton=h,o.setAttr("cursor","pointer"),r.setAttr("cursor","pointer"),r.mouseup(function(){t.handlePencilClick()});var n=i.image(a+"pencilIconH"+t.extension,0,0,e,e);d.setCN(t,n,"pencil-pushed"),t.pencilButtonPushed=n,t.drawingEnabled||n.hide();var l=i.image(a+"eraserIcon"+t.extension,e+1,0,e,e);d.setCN(t,l,"eraser"),t.eraserButton=l,o.mouseup(function(){t.handleEraserClick()}),r.touchend&&(r.touchend(function(){t.handlePencilClick()}),o.touchend(function(){t.handleEraserClick()})),e=i.image(a+"eraserIconH"+t.extension,e+1,0,e,e),d.setCN(t,e,"eraser-pushed"),t.eraserButtonPushed=e,t.erasingEnabled||e.hide(),i=i.set([h,n,l,e,r,o]),d.setCN(t,i,"drawing-tools"),i.translate(s,1),this.hideIcons&&i.hide()},handlePencilClick:function(){var t=!this.drawingEnabled;this.disableDrawing(!t),this.erasingEnabled=!1;var e=this.eraserButtonPushed;e&&e.hide(),e=this.pencilButtonPushed,t?e&&e.show():(e&&e.hide(),this.setMouseCursor("auto"))},disableDrawing:function(t){this.drawingEnabled=!t;var e=this.chartCursor;this.stockChart&&(this.stockChart.enableCursors(t),e&&e.enableDrawing(!t))},handleEraserClick:function(){if(this.disableDrawing(!0),(t=this.pencilButtonPushed)&&t.hide(),t=this.eraserButtonPushed,this.eraseAll){for(var t,e=(t=this.trendLines).length-1;0<=e;e--){var i=t[e];i.isProtected||this.removeTrendLine(i)}this.validateNow()}else(this.erasingEnabled=e=!this.erasingEnabled)?(t&&t.show(),this.setTrendColorHover(this.trendLineColorHover),this.setMouseCursor("auto")):(t&&t.hide(),this.setTrendColorHover())},setTrendColorHover:function(t){for(var e=this.trendLines,i=e.length-1;0<=i;i--){var a=e[i];a.isProtected||(a.rollOverColor=t),this.listenTo(a,"click",this.handleTrendClick)}},handleDraw:function(t){var e=this.drawOnAxis;d.isString(e)&&(e=this.getValueAxisById(e)),e=e||this.valueAxes[0],this.drawOnAxis=e;var i=this.categoryAxis,a=t.initialX,s=t.finalX,r=t.initialY;t=t.finalY;var o=new d.TrendLine(this.theme);o.initialDate=i.coordinateToDate(a),o.finalDate=i.coordinateToDate(s),o.initialValue=e.coordinateToValue(r),o.finalValue=e.coordinateToValue(t),o.lineAlpha=this.trendLineAlpha,o.lineColor=this.trendLineColor,o.lineThickness=this.trendLineThickness,o.dashLength=this.trendLineDashLength,o.valueAxis=e,o.categoryAxis=i,this.addTrendLine(o),this.listenTo(o,"click",this.handleTrendClick),this.validateNow()},hideDrawingIcons:function(t){(this.hideIcons=t)&&this.disableDrawing(t)},handleTrendClick:function(t){this.erasingEnabled&&(t=t.trendLine,this.eraseAll||t.isProtected||this.removeTrendLine(t),this.validateNow())},handleWheelReal:function(t,e){var i,a,s,r=this.scrollbarChart;!this.wheelBusy&&r&&(s=a=1,this.mouseWheelZoomEnabled?e||(a=-1):e&&(a=-1),a!=s&&(a*=i=this.mouseX/this.plotAreaWidth,s*=1-i),(r=r.chartScrollbar)&&(r.getPercents(),(i=.05*(r.percentEnd-r.percentStart))<.005&&(i=.005),s=t<0?(a=r.percentStart+a*i,r.percentEnd+s*i):(a=r.percentStart-a*i,r.percentEnd-s*i),a<s&&r.percentZoom(a,s,!0)))}})}(),function(){var e=window.AmCharts;e.CategoryAxesSettings=e.Class({construct:function(t){this.cname="CategoryAxesSettings",this.minPeriod="DD",this.equalSpacing=!1,this.axisHeight=28,this.tickLength=this.axisAlpha=0,this.gridCount=10,this.maxSeries=150,this.groupToPeriods="ss 10ss 30ss mm 10mm 30mm hh DD WW MM YYYY".split(" "),this.markPeriodChange=this.autoGridCount=!0,e.applyTheme(this,t,this.cname)}})}(),function(){var e=window.AmCharts;e.ChartCursorSettings=e.Class({construct:function(t){this.cname="ChartCursorSettings",this.enabled=!0,this.bulletsEnabled=this.valueBalloonsEnabled=!1,this.graphBulletSize=1,this.onePanelOnly=!1,this.categoryBalloonDateFormats=[{period:"YYYY",format:"YYYY"},{period:"MM",format:"MMM, YYYY"},{period:"WW",format:"MMM DD, YYYY"},{period:"DD",format:"MMM DD, YYYY"},{period:"hh",format:"JJ:NN"},{period:"mm",format:"JJ:NN"},{period:"ss",format:"JJ:NN:SS"},{period:"fff",format:"JJ:NN:SS"}],e.applyTheme(this,t,this.cname)},categoryBalloonDateFormat:function(t){for(var e,i=this.categoryBalloonDateFormats,a=0;a<i.length;a++)i[a].period==t&&(e=i[a].format);return e}})}(),function(){var e=window.AmCharts;e.ChartScrollbarSettings=e.Class({construct:function(t){this.cname="ChartScrollbarSettings",this.height=40,this.enabled=!0,this.color="#FFFFFF",this.updateOnReleaseOnly=this.autoGridCount=!0,this.hideResizeGrips=!1,this.position="bottom",this.minDistance=1,e.applyTheme(this,t,this.cname)}})}(),function(){var e=window.AmCharts;e.LegendSettings=e.Class({construct:function(t){this.cname="LegendSettings",this.marginBottom=this.marginTop=0,this.usePositiveNegativeOnPercentsOnly=!0,this.positiveValueColor="#00CC00",this.negativeValueColor="#CC0000",this.autoMargins=this.equalWidths=this.textClickEnabled=!1,e.applyTheme(this,t,this.cname)}})}(),function(){var e=window.AmCharts;e.PanelsSettings=e.Class({construct:function(t){this.cname="PanelsSettings",this.marginBottom=this.marginTop=this.marginRight=this.marginLeft=0,this.backgroundColor="#FFFFFF",this.backgroundAlpha=0,this.panelSpacing=8,this.panEventsEnabled=!0,this.creditsPosition="top-right",this.svgIcons=this.zoomOutAxes=!0,e.applyTheme(this,t,this.cname)}})}(),function(){var e=window.AmCharts;e.StockEventsSettings=e.Class({construct:function(t){this.cname="StockEventsSettings",this.type="sign",this.backgroundAlpha=1,this.backgroundColor="#DADADA",this.borderAlpha=1,this.borderColor="#888888",this.balloonColor=this.rollOverColor="#CC0000",e.applyTheme(this,t,this.cname)}})}(),function(){var e=window.AmCharts;e.ValueAxesSettings=e.Class({construct:function(t){this.cname="ValueAxesSettings",this.tickLength=0,this.showFirstLabel=this.autoGridCount=this.inside=!0,this.showLastLabel=!1,this.axisAlpha=0,e.applyTheme(this,t,this.cname)}})}(),function(){var t=window.AmCharts;t.getItemIndex=function(t,e){for(var i=-1,a=0;a<e.length;a++)t==e[a]&&(i=a);return i},t.addBr=function(t){t.appendChild(document.createElement("br"))},t.applyStyles=function(t,e){if(e&&t)for(var i in t){var a=i,s=e[a];if(void 0!==s)try{t[a]=s}catch(t){}}}}(),function(){var s=window.AmCharts;s.StockLegend=s.Class({inherits:s.AmLegend,construct:function(t){s.StockLegend.base.construct.call(this,t),this.cname="StockLegend",this.valueTextComparing="[[percents.value]]%",this.valueTextRegular="[[value]]",s.applyTheme(this,t,this.cname)},drawLegend:function(){var t=this;s.StockLegend.base.drawLegend.call(t);var e,i,a=t.chart;a.allowTurningOff&&(i=(e=t.container).image(a.pathToImages+"xIcon"+a.extension,a.realWidth-19,3,19,19),(a=e.image(a.pathToImages+"xIconH"+a.extension,a.realWidth-19,3,19,19)).hide(),t.xButtonHover=a,i.mouseup(function(){t.handleXClick()}).mouseover(function(){t.handleXOver()}),a.mouseup(function(){t.handleXClick()}).mouseout(function(){t.handleXOut()}))},handleXOver:function(){this.xButtonHover.show()},handleXOut:function(){this.xButtonHover.hide()},handleXClick:function(){var t=this.chart,e=t.stockChart;e.removePanel(t),e.validateNow()}})}(),function(){var c=window.AmCharts;c.DataSetSelector=c.Class({construct:function(t){this.cname="DataSetSelector",this.theme=t,this.createEvents("dataSetSelected","dataSetCompared","dataSetUncompared"),this.position="left",this.selectText="Select:",this.comboBoxSelectText="Select...",this.compareText="Compare to:",this.width=180,this.dataProvider=[],this.listHeight=150,this.listCheckBoxSize=14,this.rollOverBackgroundColor="#b2e1ff",this.selectedBackgroundColor="#7fceff",c.applyTheme(this,t,this.cname)},write:function(t){var e=this,i=e.theme,a=e.chart;t.className="amChartsDataSetSelector "+a.classNamePrefix+"-data-set-selector-div";var s=e.width,r=e.position;e.width=void 0,e.position=void 0,c.applyStyles(t.style,e),e.div=t,e.width=s,e.position=r,t.innerHTML="";var o,h="top"!=(s=e.position)&&"bottom"!=s;(e.vertical=h)&&(o=e.width+"px");var n,l,s=e.dataProvider;if(1<e.countDataSets("showInSelect")){r=document.createTextNode(a.langObj.selectText||e.selectText),t.appendChild(r),h&&c.addBr(t);var d=document.createElement("select");for(o&&(d.style.width=o),e.selectCB=d,i&&c.applyStyles(d.style,i.DataSetSelect),d.className=a.classNamePrefix+"-data-set-select",t.appendChild(d),c.isNN&&d.addEventListener("change",function(t){e.handleDataSetChange.call(e,t)},!0),c.isIE&&d.attachEvent("onchange",function(t){e.handleDataSetChange.call(e,t)}),r=0;r<s.length;r++)if(!0===(n=s[r]).showInSelect){(l=document.createElement("option")).className=a.classNamePrefix+"-data-set-select-option",l.text=n.title,l.value=r,n==e.chart.mainDataSet&&(l.selected=!0);try{d.add(l,null)}catch(t){d.add(l)}}e.offsetHeight=d.offsetHeight}if(0<e.countDataSets("showInCompare")&&1<s.length)if(h?(c.addBr(t),c.addBr(t)):(r=document.createTextNode(" "),t.appendChild(r)),r=document.createTextNode(a.langObj.compareText||e.compareText),t.appendChild(r),l=e.listCheckBoxSize,h){for(c.addBr(t),o=document.createElement("div"),t.appendChild(o),o.className="amChartsCompareList "+a.classNamePrefix+"-compare-div",i&&c.applyStyles(o.style,i.DataSetCompareList),o.style.overflow="auto",o.style.overflowX="hidden",o.style.width=e.width-2+"px",o.style.maxHeight=e.listHeight+"px",r=0;r<s.length;r++)!0===(n=s[r]).showInCompare&&n!=e.chart.mainDataSet&&((i=document.createElement("div")).style.padding="4px",i.style.position="relative",i.name="amCBContainer",i.className=a.classNamePrefix+"-compare-item-div",i.dataSet=n,i.style.height=l+"px",n.compared&&(i.style.backgroundColor=e.selectedBackgroundColor),o.appendChild(i),(h=document.createElement("div")).style.width=l+"px",h.style.height=l+"px",h.style.position="absolute",h.style.backgroundColor=n.color,i.appendChild(h),(h=document.createElement("div")).style.width="100%",h.style.position="absolute",h.style.left=l+10+"px",i.appendChild(h),n=document.createTextNode(n.title),h.style.whiteSpace="nowrap",h.style.cursor="default",h.appendChild(n),e.addEventListeners(i));c.addBr(t),c.addBr(t)}else{i=document.createElement("select"),e.compareCB=i,o&&(i.style.width=o),t.appendChild(i),c.isNN&&i.addEventListener("change",function(t){e.handleCBSelect.call(e,t)},!0),c.isIE&&i.attachEvent("onchange",function(t){e.handleCBSelect.call(e,t)}),(l=document.createElement("option")).text=a.langObj.comboBoxSelectText||e.comboBoxSelectText;try{i.add(l,null)}catch(t){i.add(l)}for(r=0;r<s.length;r++)if(!0===(n=s[r]).showInCompare&&n!=e.chart.mainDataSet){(l=document.createElement("option")).text=n.title,l.value=r,n.compared&&(l.selected=!0);try{i.add(l,null)}catch(t){i.add(l)}}e.offsetHeight=i.offsetHeight}},addEventListeners:function(t){var e=this;c.isNN&&(t.addEventListener("mouseover",function(t){e.handleRollOver.call(e,t)},!0),t.addEventListener("mouseout",function(t){e.handleRollOut.call(e,t)},!0),t.addEventListener("click",function(t){e.handleClick.call(e,t)},!0)),c.isIE&&(t.attachEvent("onmouseout",function(t){e.handleRollOut.call(e,t)}),t.attachEvent("onmouseover",function(t){e.handleRollOver.call(e,t)}),t.attachEvent("onclick",function(t){e.handleClick.call(e,t)}))},handleDataSetChange:function(){var t=this.selectCB,t=this.dataProvider[t.options[t.selectedIndex].value],e=this.chart;e.mainDataSet=t,e.zoomOutOnDataSetChange&&(e.startDate=void 0,e.endDate=void 0),e.validateData(!0),this.fire({type:"dataSetSelected",dataSet:t,chart:this.chart})},handleRollOver:function(t){(t=this.getRealDiv(t)).dataSet.compared||(t.style.backgroundColor=this.rollOverBackgroundColor)},handleRollOut:function(t){(t=this.getRealDiv(t)).dataSet.compared||(t.style.removeProperty&&t.style.removeProperty("background-color"),t.style.removeAttribute&&t.style.removeAttribute("backgroundColor"))},handleCBSelect:function(t){for(var e,i=this.compareCB,a=this.dataProvider,s=0;s<a.length;s++)(e=a[s]).compared&&(t={type:"dataSetUncompared",dataSet:e}),e.compared=!1;0<(a=i.selectedIndex)&&((e=this.dataProvider[i.options[a].value]).compared||(t={type:"dataSetCompared",dataSet:e}),e.compared=!0),(i=this.chart).validateData(!0),t.chart=i,this.fire(t)},handleClick:function(t){t=!0===(t=this.getRealDiv(t).dataSet).compared?(t.compared=!1,{type:"dataSetUncompared",dataSet:t}):(t.compared=!0,{type:"dataSetCompared",dataSet:t});var e=this.chart;e.validateData(!0),t.chart=e,this.fire(t)},getRealDiv:function(t){return"amCBContainer"==(t=(t=t||window.event).currentTarget||t.srcElement).parentNode.name&&(t=t.parentNode),t},countDataSets:function(t){for(var e=this.dataProvider,i=0,a=0;a<e.length;a++)!0===e[a][t]&&i++;return i}})}(),function(){var f=window.AmCharts;f.StackedBullet=f.Class({construct:function(){this.stackDown=!1,this.mastHeight=8,this.shapes=[],this.backgroundColors=[],this.backgroundAlphas=[],this.borderAlphas=[],this.borderColors=[],this.colors=[],this.rollOverColors=[],this.showOnAxiss=[],this.values=[],this.showAts=[],this.textColor="#000000",this.nextY=0,this.size=16},parseConfig:function(){var t=this.bulletConfig;this.eventObjects=t.eventObjects,this.letters=t.letters,this.shapes=t.shapes,this.backgroundColors=t.backgroundColors,this.backgroundAlphas=t.backgroundAlphas,this.borderColors=t.borderColors,this.borderAlphas=t.borderAlphas,this.colors=t.colors,this.rollOverColors=t.rollOverColors,this.date=t.date,this.showOnAxiss=t.showOnAxis,this.axisCoordinate=t.minCoord,this.showAts=t.showAts,this.values=t.values,this.fontSizes=t.fontSizes,this.showBullets=t.showBullets},write:function(t){var e,i;for(this.parseConfig(),this.container=t,this.bullets=[],this.fontSize=this.chart.fontSize,!this.graph||(e=this.graph.fontSize)&&(this.fontSize=e),e=this.letters.length,(this.mastHeight+2*(this.fontSize/2+2))*e>this.availableSpace&&(this.stackDown=!0),this.set=t.set(),this.cset=t.set(),this.set.push(this.cset),this.set.doNotScale=!0,i=t=0;i<e;i++){this.shape=this.shapes[i],this.backgroundColor=this.backgroundColors[i],this.backgroundAlpha=this.backgroundAlphas[i],this.borderAlpha=this.borderAlphas[i],this.borderColor=this.borderColors[i],this.rollOverColor=this.rollOverColors[i],this.showOnAxis=this.showOnAxiss[i],this.showBullet=this.showBullets[i],this.color=this.colors[i],this.value=this.values[i],this.showAt=this.showAts[i];var a=this.fontSizes[i];isNaN(a)||(this.fontSize=a),this.addLetter(this.letters[i],t,i),this.showOnAxis||t++}},addLetter:function(t,e,i){e=(m=this.container).set();var a=-1,s=this.stackDown,r=this.graph.valueAxis;this.showOnAxis&&(this.stackDown=!!r.reversed),this.stackDown&&(a=1);var o,h=0,n=0,l=0,d=this.fontSize,c=this.mastHeight,u=this.shape,p=this.textColor;void 0!==this.color&&(p=this.color),void 0===t&&(t=""),t=f.fixBrakes(t),(t=f.text(m,t,p,this.chart.fontFamily,this.fontSize)).node.style.pointerEvents="none",m=t.getBBox(),this.labelWidth=p=m.width,this.labelHeight=m.height;var g,m=0;switch(u){case"sign":g=this.drawSign(e),h=c+4+d/2,m=c+d+4,1==a&&(h-=4);break;case"flag":g=this.drawFlag(e),n=p/2+3,h=c+4+d/2,m=c+d+4,1==a&&(h-=4);break;case"pin":g=this.drawPin(e),h=6+d/2,m=d+8;break;case"triangleUp":g=this.drawTriangleUp(e),h=-d-1,m=d+4,a=-1;break;case"triangleDown":g=this.drawTriangleDown(e),h=d+1,m=d+4,a=-1;break;case"triangleLeft":g=this.drawTriangleLeft(e),m=(n=d)+4,a=-1;break;case"triangleRight":g=this.drawTriangleRight(e),n=-d,a=-1,m=d+4;break;case"arrowUp":g=this.drawArrowUp(e),t.hide();break;case"arrowDown":g=this.drawArrowDown(e),t.hide(),m=d+4;break;case"text":a=-1,g=this.drawTextBackground(e,t),h=this.labelHeight+3,m=d+10;break;case"round":g=this.drawCircle(e)}this.bullets[i]=g,this.showOnAxis?(o=isNaN(this.nextAxisY)?this.axisCoordinate:this.nextY,l=h*a,this.nextAxisY=o+a*m):this.value?(o=this.value,r.recalculateToPercents&&(o=o/r.recBaseValue*100-100),o=r.getCoordinate(o)-this.bulletY,l=h*a):this.showAt?(g=this.graphDataItem.values,r.recalculateToPercents&&(g=this.graphDataItem.percents),g&&(o=r.getCoordinate(g[this.showAt])-this.bulletY,l=h*a)):(o=this.nextY,l=h*a),t.translate(n,l),e.push(t),e.translate(0,o),this.addEventListeners(e,i),this.nextY=o+a*m,this.stackDown=s},addEventListeners:function(t,e){var i=this;t.click(function(){i.handleClick(e)}).mouseover(function(){i.handleMouseOver(e)}).touchend(function(){i.handleMouseOver(e,!0),i.handleClick(e),setTimeout(function(){i.handleMouseOut.call(i,e)},200)}).mouseout(function(){i.handleMouseOut(e)}).touchstart(function(){i.handleMouseOver(e)})},drawPin:function(t){var e=-1;this.stackDown&&(e=1);var i=this.fontSize+4;return this.drawRealPolygon(t,[0,i/2,i/2,-i/2,-i/2,0],[0,e*i/4,e*(i+i/4),e*(i+i/4),e*i/4,0])},drawSign:function(t){var e=-1;this.stackDown&&(e=1);var i=this.mastHeight*e,a=this.fontSize/2+2,s=f.line(this.container,[0,0],[0,i],this.borderColor,this.borderAlpha,1),r=f.circle(this.container,a,this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha);return r.translate(0,i+a*e),t.push(s),t.push(r),this.cset.push(t),r},drawFlag:function(t){var e=-1;this.stackDown&&(e=1);var i=this.fontSize+4,a=this.labelWidth+6,s=this.mastHeight,e=1==e?e*s:e*s-i,s=f.line(this.container,[0,0],[0,e],this.borderColor,this.borderAlpha,1);return(i=f.polygon(this.container,[0,a,a,0],[0,0,i,i],this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha)).translate(0,e),t.push(s),t.push(i),this.cset.push(t),i},drawTriangleUp:function(t){var e=this.fontSize+7;return this.drawRealPolygon(t,[0,e/2,-e/2,0],[0,e,e,0])},drawArrowUp:function(t){var e=this.size,i=e/2,a=e/4;return this.drawRealPolygon(t,[0,i,a,a,-a,-a,-i,0],[0,i,i,e,e,i,i,0])},drawArrowDown:function(t){var e=this.size,i=e/2,a=e/4;return this.drawRealPolygon(t,[0,i,a,a,-a,-a,-i,0],[0,-i,-i,-e,-e,-i,-i,0])},drawTriangleDown:function(t){var e=this.fontSize+7;return this.drawRealPolygon(t,[0,e/2,-e/2,0],[0,-e,-e,0])},drawTriangleLeft:function(t){var e=this.fontSize+7;return this.drawRealPolygon(t,[0,e,e,0],[0,-e/2,e/2,0])},drawTriangleRight:function(t){var e=this.fontSize+7;return this.drawRealPolygon(t,[0,-e,-e,0],[0,-e/2,e/2,0])},drawRealPolygon:function(t,e,i){return e=f.polygon(this.container,e,i,this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha),t.push(e),this.cset.push(t),e},drawCircle:function(t){var e=f.circle(this.container,this.fontSize/2,this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha);return t.push(e),this.cset.push(t),e},drawTextBackground:function(t,e){var i=-(a=e.getBBox()).width/2-5,e=a.width/2+5,a=-a.height-12;return this.drawRealPolygon(t,[i,-5,0,5,e,e,i,i],[-5,-5,0,-5,-5,a,a,-5])},handleMouseOver:function(t,e){e||this.bullets[t].attr({fill:this.rollOverColors[t]});var i=this.eventObjects[t],e={type:"rollOverStockEvent",eventObject:i,graph:this.graph,date:this.date},a=this.bulletConfig.eventDispatcher;for((e.chart=a).fire(e),i.url&&this.bullets[t].setAttr("cursor","pointer"),(e=this.chart).showBalloon(f.fixNewLines(i.description),a.stockEventsSettings.balloonColor,!0),i=e.graphs,a=0;a<i.length;a++)i[a].hideBalloon()},handleClick:function(t){var e={type:"clickStockEvent",eventObject:t=this.eventObjects[t],graph:this.graph,date:this.date},i=this.bulletConfig.eventDispatcher;(e.chart=i).fire(e),e=(e=t.urlTarget)||i.stockEventsSettings.urlTarget,f.getURL(t.url,e)},handleMouseOut:function(t){this.bullets[t].attr({fill:this.backgroundColors[t]}),t={type:"rollOutStockEvent",eventObject:this.eventObjects[t],graph:this.graph,date:this.date};var e=this.bulletConfig.eventDispatcher;t.chart=e,this.chart.hideBalloonReal(),e.fire(t)}})}();